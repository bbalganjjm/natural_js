/*
 Natural-DATA v0.11.73

 Released under the LGPL v2.1 license
 Date: 2014-09-26T11:11Z

 Copyright 2023 KIM HWANG MAN(bbalganjjm@gmail.com)
*/
(function(A,h){N.version["Natural-DATA"]="0.11.73";h.fn.extend(h.extend(N.prototype,{datafilter:function(c){return N.data.filter(this,c)},datarefine:function(c){return N.data.refine(this,c)},datasort:function(c,v){return N.data.sort(this,c,v)},formatter:function(c){return new N.formatter(this,c)},validator:function(c){return new N.validator(this,c)}}));(function(c){c.data={refine:function(a,b){if(c.isWrappedSet(a))return 1==a.length?c.isPlainObject(a.get(0))?c(this.refine(a.get(0),b)):a:c(this.refine(a.toArray(),
b));if(void 0!==b)return a[b]||[];for(var d in a)return c.isNumeric(d)?a:a[d]},filter:function(a,b){if("function"===c.type(b))return c.isWrappedSet(a)?c(h.grep(a.toArray(),b)):h.grep(a,b);if("string"===c.type(b)){b=b.replace(/ /g,"").replace(/\|\|/g," || item.").replace(/&&/g," || item.");var d=new Function("item","return item."+b);return c.isWrappedSet(a)?c(h.grep(a.toArray(),function(e){return d(e)})):h.grep(a,function(e){return d(e)})}return a},sortBy:function(a,b){return function(d,e){d=d[a];
e=e[a];Number(d)&&Number(e)&&(d=Number(d),e=Number(e));return d<e?-1*b:d>e?1*b:0}},sort:function(a,b,d){return a.sort(this.sortBy(b,d?-1:1))}};var v=c.ds=function(a,b){if(c.ds.caller!=c.ds.instance)throw Error("[N.datasync]There is no public constructor for N.ds, use instance method");var d=h(c.context.attr("architecture").page.context);0===d.length&&c.warn('[N.ds]Context element is missing. Please specify the correct Natural-JS\'s main context element selector to "N.context.attr("architecture").page.context" property in "natural.config.js" file');
var e=d.find("var#data_sync_temp__");0===e.length&&(e=d.append('<var id="data_sync_temp__"></var>').find("var#data_sync_temp__"));this.viewContext=e;d=this.viewContext.instance("ds");void 0!==d?(d.inst=a,void 0!==b&&!0===b&&d.observable.push(a)):(d=this,d.inst=a,d.observable=[],d.observable.push(a),this.viewContext.instance("ds",d));return d};h.extend(v,{instance:function(a,b){return new c.ds(a,b)}});h.extend(v.prototype,{remove:function(){var a=this.inst,b=this.observable;if(a&&b)for(var d=0;d<b.length;d++)b[d]==
a&&b.splice(d,1);return this},notify:function(a,b){var d=this.inst,e=this.observable;if(d&&e)for(var g=0;g<e.length;g++)d!==e[g]&&d.options.data===e[g].options.data&&(e[g]instanceof c.form?a===e[g].row()&&e[g].update(a,b):e[g].update(a,b));return this}});var x=c.formatter=function(a,b){this.options={data:c.isPlainObject(a)?c(a):a,rules:b,isElement:!1,createEvent:!0,context:null,targetEle:c()};if(c.isElement(b)||c.isString(b)){var d=this.options;d.isElement=!0;d.context=c(b);if(0<a.length){if(void 0!==
a[0][d.context.attr("id")])d.targetEle.push(d.context.get(0));else for(var e in a[0])0<d.context.find("#"+e).length&&d.targetEle.push(d.context.find("#"+e).get(0));d.rules=c.element.toRules(d.targetEle,"format")}}};h.extend(x,{commas:function(a,b){if(c.isEmptyObject(a))return a;a=a.replace(/,/g,"");b=/(^[+-]?\d+)(\d{3})/;for(a+="";b.test(a);)a=a.replace(b,"$1,$2");return a},rrn:function(a,b){if(c.isEmptyObject(a))return a;a=a.replace(/[^0-9*]/g,"");if(13==a.length){var d="*";void 0!==b&&void 0!==
b[1]&&(d=b[1]);void 0!==b&&void 0!==b[0]&&(a=c.string.rpad(a.substring(0,13-Number(b[0])),13,d));a=a.substring(0,6)+"-"+a.substring(6,13)}return a},ssn:function(a,b){return 13===a.length?this.rrn(a,b):9===a.length?(a=a.replace(/[^0-9*]/g,""),a.substr(0,3)+"-"+a.substr(3,2)+"-"+a.substr(5,4)):a},kbrn:function(a,b){if(5>c.string.trimToEmpty(a).length)return a;a=a.replace(/[^0-9*]/g,"");10<a.length&&(a=a.substring(0,10));return a.substring(0,3)+"-"+a.substring(3,5)+"-"+a.substring(5,10)},cno:function(a,
b){return this.kbrn(a)},kcn:function(a,b){return this.rrn(a)},upper:function(a,b){return c.isEmptyObject(a)?a:a.toUpperCase()},lower:function(a,b){return c.isEmptyObject(a)?a:a.toLowerCase()},capitalize:function(a,b){if(c.isEmptyObject(a))return a;b=a.substring(0,1).toUpperCase();1<a.length&&(b+=a.substring(1));return b},zipcode:function(a,b){if(c.isEmptyObject(a))return a;a=a.replace(/[^0-9*]/g,"");return a.substring(0,3)+"-"+a.substring(3,6)},phone:function(a,b){if(c.isEmptyObject(a))return a;a=
a.replace(/[^0-9*]/g,"");return a.replace(/(^02.{0}|^01.{1}|[0-9*]{3})([0-9*]+)([0-9*]{4})/,"$1-$2-$3")},phonenum:function(a,b){return this.phone(a,b)},realnum:function(a,b){try{a=String(parseFloat(a))}catch(d){return a}return"NaN"==a?a.replace("NaN",""):a},trimtoempty:function(a,b){return c.string.trimToEmpty(a)},trimtozero:function(a,b){return c.string.trimToZero(a)},trimtoval:function(a,b){if(void 0===b||void 0===b[0])throw c.error("[N.formatter.trimtoval]You must input args[0](default value)");
return c.string.trimToVal(a,b[0])},date:function(a,b,d){if(void 0===b)return a;a=a.replace(/[^0-9]/g,"");if(void 0!==c.datepicker){if(void 0!==b[1]&&("date"===b[1]||"month"===b[1])&&void 0!==d&&!d.hasClass("datepicker__")&&d.is("input")){var e,g,k,f={monthonly:"month"===b[1]?!0:!1};void 0!==b[2]&&h.extend(f,b[2]);var l=d.datepicker(f).options,p=l.onBeforeShow;l.onBeforeShow=function(q,w){q.trigger("unformat");if(null!==p)return p.apply(this,arguments)};var m=l.onSelect;l.onSelect=function(q,w,z){e=
w.obj.formatDate(z?"Ym":"Ymd");q.parents(".form__").each(function(){g=h(this).instance("form");if(void 0!==g)return!1});k=q.attr("id");void 0!==g&&e!==g.val(k)&&g.val(k,e);if(null!==m)return m.apply(this,arguments)};var n=l.onBeforeHide;l.onBeforeHide=function(q,w){q.val(q.val().replace(/[^0-9]/g,""));q.trigger("focusout.dataSync.form").trigger("focusout.form.format");if(null!==n)return n.apply(this,arguments)};var r=l.onHide;l.onHide=function(q,w){if(null!==r)return r.apply(this,arguments)};if(l.yearChangeInput){var u=
l.onChangeYear;l.onChangeYear=function(){l.context.trigger("focusout.dataSync.form");if(null!==u)return u.apply(this,arguments)}}if(l.monthChangeInput){var t=l.onChangeMonth;l.onChangeMonth=function(){l.context.trigger("focusout.dataSync.form");if(null!==t)return t.apply(this,arguments)}}}}else c.warn("if you use date or month option, you must import Natural-UI library");if(void 0!==b[0])return d=c.context.attr("data").formatter.date,b="number"===c.type(b[0])?4===b[0]?c.date.format(a,"Y"):6===b[0]?
c.date.format(a,d.Ym()):8===b[0]?c.date.format(a,d.Ymd()):10===b[0]?c.date.format(a,d.YmdH()):12===b[0]?c.date.format(a,d.YmdHi()):14===b[0]?c.date.format(a,d.YmdHis()):c.date.format(a,d.Ymd()):c.date.format(a,b[0]),0<Number(a)?b:""},time:function(a,b){a=a.replace(/[^0-9]/g,"");a=6<c.string.trimToEmpty(a)?c.string.rpad(a,6,"0"):a.substring(0,6);return a=void 0!==b&&void 0!==b[0]&&"2"==b[0]?a.substring(0,2):void 0!==b&&void 0!==b[0]&&"4"==b[0]?a.substring(0,2)+c.context.attr("data").formatter.date.timeSepa+
a.substring(2,4):void 0!==b&&void 0!==b[0]&&"6"==b[0]?a.substring(0,2)+c.context.attr("data").formatter.date.timeSepa+a.substring(2,4)+c.context.attr("data").formatter.date.timeSepa+a.substring(4,6):a.substring(0,2)+c.context.attr("data").formatter.date.timeSepa+a.substring(2,4)},limit:function(a,b,d){if(void 0===b||void 0===b[0])throw c.error("[N.formatter.limit]You must input args[0](cut length)");if(a.substr(a.length-b[1].length,b[1].length)!==b[1]){void 0!==d&&d.attr("title",a);for(var e=d=0;e<
a.length;e++)if(d+=128<a.charCodeAt(e)?2:1,d>b[0])return void 0!==b&&void 0!==b[1]?c.string.trimToEmpty(a.substring(0,e))+b[1]:a.substring(0,e)}return a},replace:function(a,b,d){if(void 0===b||2>b.length)throw c.error("[N.formatter.replace]You must input args[0](target string) and args[1](replace string)");a=a.split(String(b[0])).join(String(b[1]));"undefined"!=typeof b[2]&&"true"==String(b[2])&&(this.vo[d.attr("name")]=a);return a},lpad:function(a,b){if(void 0===b||2>b.length)throw c.error("[N.formatter.lpad]You must input args[0](fill length) and args[1](replace string)");
return c.string.lpad(a,Number(b[0]),b[1])},rpad:function(a,b){if(void 0===b||2>b.length)throw c.error("[N.formatter.rpad]You must input args[0](fill length) and  args[1](replace string)");return c.string.rpad(a,Number(b[0]),b[1])},mask:function(a,b){if(void 0===b||1>b.length)throw c.error("[N.formatter.rpad]You must input args[0](masking rule)");var d="*";2!==b.length||c.string.isEmpty(b[1])||(d=b[1]);if("phone"===b[0]){a=c.string.trimToEmpty(a);var e=this.phonenum(a);a=e.substring(0,e.indexOf("-")+
1);b=e.substring(e.lastIndexOf("-"),e.length);e=e.replace(a,"").replace(b,"");return a+e.replace(/\d/g,d)+b}if("email"===b[0]){if(a=c.string.trimToEmpty(a),c.validator.email(a)){b="";for(e=0;3>e;e++)b+=d;return a.replace(/@.*/,"").replace(/.{1,3}$/,b)+a.replace(/.*@/,"@")}}else{if("address"===b[0]){a=c.string.trimToEmpty(a);var g="_\uacbd\uae30_\uac15\uc6d0_\ucda9\ubd81_\ucda9\ub0a8_\uc804\ubd81_\uc804\ub0a8_\uacbd\ubd81_\uacbd\ub0a8_\uc81c\uc8fc_";a=a.split(" ");var k="",f,l,p;h(a).each(function(){f=
c.string.trimToEmpty(this);l=f.substring(0,1);p=f.substring(f.length-1,f.length);if(0>g.indexOf("_"+f+"_")&&0>"_\ub3c4_\uc2dc_\uad70_\uad6c_".indexOf("_"+p+"_")){var m="";if(-1<"_\uc74d_\uba74_\ub3d9_\ub9ac_\ub85c_\uae38_\uac00_".indexOf("_"+p+"_")&&(new RegExp(/[^0-9*]/)).test(l)){for(var n=0;n<f.length-1;n++)m+=d;f=m+p}else{for(n=0;n<f.length;n++)m+=d;f=m}}k+=f+" "});return c.string.trimToEmpty(k)}if("name"===b[0]){a=c.string.trimToEmpty(a);if((new RegExp(/^[a-z-?\d\s\.]+$/i)).test(a))return h(a.split("")).map(function(m){return 2<
m&&10>m&&" "!=this?d:this}).get().join("");g="_\ub0a8\uad81_\uc81c\uac08_\uc120\uc6b0_\ub3c5\uace0_\ud669\ubcf4_\uac15\uc804_\ub3d9\ubc29_\ub9dd\uc808_\uc0ac\uacf5_\uc11c\ubb38_\uc18c\ubd09_\uc7a5\uace1_";b=1;1<a.length&&-1<g.indexOf("_"+a.substring(0,2)+"_")&&(b=2);return a.substring(0,b)+d+a.substring(b+1,a.length)}if("rrn"===b[0]){a=c.string.trimToEmpty(a);b="";for(e=0;7>e;e++)b+=d;return this.rrn(a.replace(/.{1,7}$/,b))}}return a},generic:function(a,b){if(void 0===b||void 0===b[0])throw c.error("[N.formatter.generic]You must input args[0](user format rule)");
return(new c.Mask(b[0])).setGeneric(String(a))},numeric:function(a,b){if(void 0===b||void 0===b[0])throw c.error("[N.formatter.numeric]You must input args[0](user format rule)");return(new c.Mask(b[0])).setNumeric(String(a),b[1])}});h.extend(x.prototype,{format:function(a){var b=this.options,d=this,e=[],g,k,f;if(void 0!==a)if(a<b.data.length&&0<=a)b.data=[b.data[a]];else throw c.error("[N.formatter.prototype.format]Row index out of range");else b.isElement&&(a=0,b.data=[b.data[a]]);h(b.data).each(function(l,
p){g={};for(var m in b.rules)k=c.string.trimToEmpty(p[m]),b.isElement&&(f=b.targetEle.filter("#"+m),0<f.length?void 0!==f.data("format")&&(b.rules[m]=f.data("format")):f=void 0),h(b.rules[m]).each(function(){try{k=x[c.string.trimToEmpty(this[0]).toLowerCase()](k,c(this).remove_(0).toArray(),f)}catch(n){if(-1<n.toString().indexOf("is not a function"))throw c.error('N.formatter.prototype.format("'+this[0]+'" is invalid format rule)',n);throw c.error("N.formatter.prototype.format",n);}}),g[m]=k,b.isElement&&
(f=b.targetEle.filter("#"+m),f.is("[type='text'], [type='tel'], textarea")?(f.val(k),b.createEvent&&(f.off("format.formatter unformat.formatter"),f.on("format.formatter",function(){f=b.context.filter("#"+h(this).attr("id"));0===f.length&&(f=b.context.find("#"+h(this).attr("id")));var n=d.format();1===n.length&&(a=0);h(this).val(n[a][h(this).attr("id")])}).on("unformat.formatter",function(){1===b.data.length&&(a=0);h(this).val(d.unformat(a,h(this).attr("id")))}))):f.is(":input")||f.text(k)),k=null;
e.push(g);g=null});return e},unformat:function(a,b){return this.options.data[a][b]}});var y=c.validator=function(a,b){this.options={data:c.isPlainObject(a)?c(a):a,rules:b,isElement:!1,createEvent:!0,context:null,targetEle:null};if(c.isElement(b)||c.isString(b)){var d=this.options;d.isElement=!0;d.context=c(b);d.targetEle=d.context.is(":input")?d.context:d.context.find(":input");d.targetEle=d.targetEle.map(function(){if(void 0!==h(this).data("validate")){if(d.createEvent){var e=h(this);e.off("validate.validator");
e.on("validate.validator",function(){c().validator(c(this)).validate()})}return this}});d.rules=c.element.toRules(d.targetEle,"validate")}this.options.data=0<a.length?a:c(c.element.toData(this.options.targetEle))};h.extend(y,{required:function(a){return!c.string.isEmpty(a)},alphabet:function(a){return(new RegExp(/^[a-z\s]+$/i)).test(a)},integer:function(a){return(new RegExp(/^[+-]?\d+$/)).test(a)},korean:function(a){return(new RegExp(/^[\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3\s]+$/)).test(a)},alphabet_integer:function(a){return(new RegExp(/^[a-z-?\d\s]+$/i)).test(a)},
integer_korean:function(a){return(new RegExp(/^[\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3-?\d\s]+$/)).test(a)},alphabet_korean:function(a){return(new RegExp(/^[\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3a-z\s]+$/i)).test(a)},alphabet_integer_korean:function(a){return(new RegExp(/^[\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3a-z-?\d\s]+$/i)).test(a)},dash_integer:function(a){return(new RegExp(/^(\d|-)+$/)).test(a)},commas_integer:function(a){return(new RegExp(/^(\d|,)+$/)).test(a)},number:function(a){return(new RegExp(/^[+-]?(\d|,|\.)+$/)).test(a)},
email:function(a){return(new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i)).test(a)},
url:function(a){return(new RegExp(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)).test(a)},
zipcode:function(a){return(new RegExp(/^\d{3}-\d{3}$/)).test(a)},decimal:function(a,b){b=void 0!==b&&void 0!==b[0]?b[0]:10;return(new RegExp(/^-?\d+$/)).test(a)||(new RegExp("^-?\\d*\\.\\d{0,"+String(b)+"}$")).test(a)},phone:function(a,b){return void 0!==b&&void 0!==b[0]&&"true"==b[0]?(new RegExp(/^\d{2,3}-\d{3,4}-\w+|"("")"$/)).test(a):(new RegExp(/^\d{2,3}-\d{3,4}-\d{4}$/)).test(a)},rrn:function(a,b){a=a.replace(/[^0-9*]/g,"");if(13!=c.string.trimToEmpty(a).length)return!1;b=a.substring(0,1);var d=
a.substring(1,2),e=a.substring(2,3),g=a.substring(3,4),k=a.substring(4,5),f=a.substring(5,6);b=2*b+3*d+4*e+5*g+6*k+7*f;d=a.substring(6,7);e=a.substring(7,8);g=a.substring(8,9);k=a.substring(9,10);f=a.substring(10,11);var l=a.substring(11,12);a=a.substring(12,13);b=11-(b+8*d+9*e+2*g+3*k+4*f+5*l)%11;b%=10;return b!=a?!1:!0},ssn:function(a,b){return this.rrn(a,b)},frn:function(a,b){a=a.replace(/[^0-9*]/g,"");if(13!=c.string.trimToEmpty(a).length)return!1;b=0;if(5!=a.substr(6,1)&&6!=a.substr(6,1)&&7!=
a.substr(6,1)&&8!=a.substr(6,1)||0!==Number(a.substr(7,2))%2)return!1;for(var d=0;12>d;d++)b+=Number(a.substr(d,1))*(d%8+2);return((11-b%11)%10+2)%10==Number(a.substr(12,1))?!0:!1},frn_rrn:function(a,b){a=a.replace(/[^0-9*]/g,"");return 13!=c.string.trimToEmpty(a).length?!1:5<=Number(a.charAt(6))&&8>=Number(a.charAt(6))?this.frn():this.rrn()},frn_ssn:function(a,b){return this.frn_rrn(a,b)},cno:function(a,b){return this.kbrn(a,b)},kbrn:function(a,b){a=a.replace(/[^0-9*]/g,"");var d=[1,3,7,1,3,7,1,
3,5,1],e;for(e=b=0;7>=e;e++)b+=d[e]*a.charAt(e);d="0"+d[8]*a.charAt(8);d=d.substring(d.length-2,d.length);b+=Math.floor(d.charAt(0))+Math.floor(d.charAt(1));b=(10-b%10)%10;return Math.floor(a.charAt(9))==b?!0:!1},cpno:function(a,b){return this.kcn(a,b)},kcn:function(a,b){a=a.replace(/[^0-9*]/g,"");if(13!=a.length)return!1;a=a.split("");b=[1,2,1,2,1,2,1,2,1,2,1,2];for(var d=0,e=0;12>e;e++)d+=parseInt(a[e])*b[e];return(10-d%10)%10!=a[12]?!1:!0},date:function(a,b){var d=a.replace(new RegExp("\\"+c.context.attr("data").formatter.date.dateSepa,
"gi"),"");a=8==c.string.trimToEmpty(d).length?!0:!1;if(!a)return!1;a=[31,28,31,30,31,30,31,31,30,31,30,31];b=d.substring(0,4);var e=d.substring(4,6);d=d.substring(6,8);if(0===d)return!1;var g=!1,k=!1;0===b%4&&(k=!0,0===b%100&&(k=!1),0===b%400&&(k=!0));k?2==e?d<=a[e-1]+1&&(g=!0):d<=a[e-1]&&(g=!0):d<=a[e-1]&&(g=!0);return g},time:function(a,b){return(new RegExp(/^([01]\d|2[0-3])([0-5]\d){0,2}$/)).test(a.replace(/[^0-9]/g,""))},accept:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.accept]You must input args[0](accept string)");
return(new RegExp("^("+b[0]+")$")).test(a)},match:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.match]You must input args[0](match string)");return(new RegExp(b[0])).test(a)},acceptfileext:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.acceptFileExt]You must input args[0](file extention)");return(new RegExp(".("+b[0]+")$","i")).test(a)},notaccept:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.notAccept]You must input args[0](refused string)");
return!(new RegExp("^("+b[0]+")$")).test(a)},notmatch:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.notMatch]You must input args[0](unmatch String)");return!(new RegExp(b[0])).test(a)},notacceptfileext:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.notAcceptFileExt]You must input args[0](file extention)");return!(new RegExp(".("+b[0]+")$","i")).test(a)},equalTo:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.equalTo]You must input args[0](selector string(:input))");
return null===c.string.trimToNull(h(b[0]).val())?!0:a===h(b[0]).val()},maxlength:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.maxlength]You must input args[0](length)");return c.string.trimToEmpty(a).length<=Number(c.string.trimToZero(b[0]))},minlength:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.minlength]You must input args[0](length)");return Number(c.string.trimToZero(b[0]))<=c.string.trimToEmpty(a).length},rangelength:function(a,b){if(void 0===b||2>
b.length)throw Error("[Validator.rangelength]You must input args[0](minimum length) and args[1](maximum length");return Number(c.string.trimToZero(b[0]))<=c.string.trimToEmpty(a).length&&c.string.trimToZero(a).length<=Number(c.string.trimToEmpty(b[1]))},maxbyte:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.maxbyte]You must input args[0](maximum byte)");void 0===b[1]&&(b[1]=c.context.attr("core").charByteLength);return c.string.byteLength(c.string.trimToEmpty(a),b[1])<=Number(c.string.trimToZero(b[0]))},
minbyte:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.minbyte]You must input args[0](minimum byte)");void 0===b[1]&&(b[1]=c.context.attr("core").charByteLength);return Number(c.string.trimToZero(b[0]))<=c.string.byteLength(c.string.trimToEmpty(a),b[1])},rangebyte:function(a,b){if(void 0===b||2>b.length)throw Error("[Validator.rangebyte]You must input args[0](minimum byte) and args[1](maximum byte)");void 0===b[2]&&(b[2]=c.context.attr("core").charByteLength);return Number(c.string.trimToZero(b[0]))<=
c.string.byteLength(c.string.trimToEmpty(a),b[2])&&c.string.byteLength(c.string.trimToEmpty(a),b[2])<=Number(c.string.trimToZero(b[1]))},maxvalue:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.maxvalue]You must input args[0](maximum value)");return Number(c.string.trimToZero(a))<=Number(c.string.trimToZero(b[0]))},minvalue:function(a,b){if(void 0===b||void 0===b[0])throw Error("[Validator.minvalue]You must input args[0](minimum value)");return Number(c.string.trimToZero(b[0]))<=
Number(c.string.trimToZero(a))},rangevalue:function(a,b){if(void 0===b||2>b.length)throw Error("[Validator.rangevalue]You must input args[0](minimum value) and args[1](maximum value)");return Number(c.string.trimToZero(b[0]))<=Number(c.string.trimToZero(a))&&Number(c.string.trimToZero(a))<=Number(c.string.trimToZero(b[1]))},regexp:function(a,b){if(void 0===b||2>b.length)throw Error("[Validator.regexp]You must input args[0](regular expression string) and args[1](flag)");return(c.string.trimToUndefined(b[1])?
new RegExp(b[0],b[1]):new RegExp(b[0])).test(a)}});h.extend(y.prototype,{validate:function(a){var b=this.options,d=[],e,g,k,f=0<b.data.length?b.data:c(c.element.toData(b.targetEle));if(void 0!==a)if(a<f.length&&0<=a)f=[f[a]];else throw c.error("[N.validator.prototype.validate]Row index out of range");else b.isElement&&(f=[f[0]]);var l,p;h(f).each(function(m,n){e={};for(var r in b.rules){k=[];var u=!0;h(b.rules[r]).each(function(){g={};g.rule=this.toString();l=c(this).remove_(0).toArray();p=c.string.trimToEmpty(this[0]).toLowerCase();
-1<p.indexOf("+")&&(p=p.split("+").sort().toString().replace(/,/g,"_"));try{0>b.rules[r].toString().indexOf("required")&&"required"!==p&&c.string.isEmpty(String(n[r]))?g.result=!0:g.result=y[p](c.string.trimToEmpty(n[r]),l)}catch(q){if(-1<q.toString().indexOf("is not a function"))throw c.error('N.validator.prototype.validate("'+this[0]+'" is invalid format rule)');throw c.error("N.validator.prototype.validate",q);}g.msg=null;if(!g.result){var t;(t=c.context.attr("data").validator.message[c.locale()][p])||
(t=c.context.attr("data").validator.message[c.locale()].global);g.msg=c.message.replaceMsgVars(t,l);u=!1}k.push(g)});if(b.isElement)if(m=b.targetEle.is("input:radio, input:checkbox")?b.targetEle.filter("[name='"+r+"'].select_template__"):b.targetEle.filter("#"+r),u)if(m.removeClass("validate_false__"),void 0!==c().alert)alertInst=m.instance("alert"),void 0!==alertInst&&alertInst.remove();else throw c.error("[N.validator.prototype.validate]You must import Natural-UI library");else if(m.addClass("validate_false__"),
void 0!==c().alert)c(null!==b.targetEle?m:void 0).alert(h(k).map(function(){if(void 0!==this.msg)return this.msg}).get()).show();else throw c.error("[N.validator.prototype.validate]You must import Natural-UI library");e[r]=k}d.push(e);e=null});return d}})})(N)})(window,jQuery);
