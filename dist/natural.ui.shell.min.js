/*
 Natural-UI.Shell v0.10.49, Works fine in IE9 and above

 Released under the LGPL v2.1 license
 Date: 2014-09-26T11:11Z

 Copyright 2023 KIM HWANG MAN(bbalganjjm@gmail.com)
*/
(function(r,g){N.version["Natural-UI.Shell"]="0.10.49";g.fn.extend(g.extend(N.prototype,{notify:function(e){return new N.notify(this,e)},docs:function(e){return new N.docs(this,e)}}));(function(e){var t=e.notify=function(a,c){if(1===arguments.length&&!e.isEmptyObject(a))return new e.notify(null,a);this.options={position:{top:10,right:10},container:e("body"),context:null,displayTime:7,alwaysOnTop:!1,html:!1,alwaysOnTopCalcTarget:"div, span, ul, p, nav, article, section, header, footer, aside"};try{g.extend(this.options,
e.context.attr("ui.shell").notify),a&&(e.isWrappedSet(a)?0<a.length&&(this.options.position=a.get(0)):e.isEmptyObject(a)||(this.options.position=a))}catch(b){e.error("N.notify",b)}e.isEmptyObject(c)||g.extend(this.options,c);t.wrapEle.call(this);this.options.context.instance("notify",this);return this};g.extend(t,{add:function(a,c){(new e.notify).add(a,c)},wrapEle:function(){var a=this.options;0<a.container.find(".notify__").length?a.context=a.container.find(".notify__"):a.context=g("<div></div>").addClass("notify__").css({position:"fixed"}).appendTo(a.container);
a.alwaysOnTop&&a.context.css("z-index",String(e.element.maxZindex(e(a.alwaysOnTopCalcTarget))+1))}});g.extend(t.prototype,{context:function(a){return void 0!==a?this.options.context.find(a):this.options.context},add:function(a,c){var b=this.options,d=this;b.context.css({top:"",right:"",bottom:"",left:""});b.context.css(b.position);var f=g(void 0!==c?'<a href="#"></a>':"<span></span>");f[b.html?"html":"text"](a);if(void 0!==c)f.on("click.notify",function(h){h.preventDefault();"function"===typeof c?
c.call(this):e.string.startsWith(c,"#")?location.hash=c:location.href=c});var l=g("<div></div>",{"class":"notify_msg__"}).css({display:"none",position:"relative"}).append(f).appendTo(b.context).show().addClass("visible__");g('<a href="#" class="notify_msg_close__" title="'+e.message.get(b.message,"close")+'"><span></span></a>').appendTo(l).on("click.notify",function(h){h.preventDefault();d.remove(l)});setTimeout(function(){d.remove(l)},1E3*b.displayTime);return this},remove:function(a){a.removeClass("visible__").addClass("hidden__");
a.one(e.event.whichTransitionEvent(a),function(c){g(this).remove()}).trigger("nothing");return this}});var m=e.docs=function(a,c){this.options={context:0<a.length?a:null,multi:!0,maxStateful:0,maxTabs:0,addLast:!1,tabScroll:!1,closeAllRedirectURL:null,tabScrollCorrection:{rightCorrectionPx:0},msgContext:g(r),entireLoadIndicator:!1,entireLoadScreenBlock:!1,entireLoadExcludeURLs:[],entireLoadRequestCnt:0,entireLoadRequestMaxCnt:0,onBeforeLoad:null,onLoad:null,onBeforeEntireLoad:null,onErrorEntireLoad:null,
onEntireLoad:null,onBeforeActive:null,onActive:null,onBeforeInactive:null,onInactive:null,onBeforeRemoveState:null,onRemoveState:null,onBeforeRemove:null,onRemove:null,saveHistory:!0,docs:{},alwaysOnTop:!1,alwaysOnTopCalcTarget:"div, span, ul, p, nav, article, section, header, footer, aside",order:[],docsFilterDefers:[],loadedDocId:null};try{g.extend(!0,this.options,e.context.attr("ui.shell").docs)}catch(f){e.error("N.docs",f)}g.extend(this.options,c);var b=this;if(null!==b.options.onBeforeEntireLoad||
null!==b.options.onEntireLoad||b.options.entireLoadIndicator||b.options.entireLoadScreenBlock){var d="|"+this.options.entireLoadExcludeURLs.join("|")+"|";e.context.attr("architecture").comm.filters.docsFilter__={beforeSend:function(f,l,h){null!==b.options.loadedDocId&&(0===b.options.entireLoadRequestCnt&&(null!==b.options.onBeforeEntireLoad&&b.options.onBeforeEntireLoad.call(b,b.options.loadedDocId),m.createLoadIndicator.call(b)),0>d.indexOf(f.options.url)&&(b.options.entireLoadRequestCnt++,b.options.entireLoadIndicator&&
b.options.entireLoadRequestMaxCnt++),this.errorHandlers.push(function(k,n,p,q,u){null!==b.options.onErrorEntireLoad&&b.options.onErrorEntireLoad.call(b,k,n,p,q,u);m.errorLoadIndicator.call(b);b.options.entireLoadRequestCnt=0;b.options.entireLoadIndicator&&(b.options.entireLoadRequestMaxCnt=0)}))},complete:function(f,l,h){null!==b.options.loadedDocId&&(0>d.indexOf(f.options.url)&&(b.options.entireLoadRequestCnt--,b.options.entireLoadIndicator&&m.updateLoadIndicator.call(b)),0>=b.options.entireLoadRequestCnt&&
(null!==b.options.onEntireLoad&&b.options.onEntireLoad.call(b,b.options.loadedDocId,b.options.entireLoadRequestCnt,b.options.entireLoadRequestMaxCnt),m.removeLoadIndicator.call(b),b.options.entireLoadRequestMaxCnt=0,b.options.entireLoadRequestCnt=0))}};e.comm.resetFilterConfig()}this.request=new e.comm.request(this);m.wrapEle.call(this);this.options.tabScroll&&m.wrapScroll.call(this);this.options.context.instance("docs",this);return this};g.extend(m,{createLoadIndicator:function(){var a=this.options;
if(a.entireLoadScreenBlock){var c=e.element.maxZindex(e(a.alwaysOnTopCalcTarget).not(".entire_load_screen_block__, .entire_load_indicator__"))+1;var b=g(".entire_load_screen_block__");0<b.length?b.removeClass("hidden__").show().css("z-index",String(c)):(b=g('<div class="entire_load_screen_block__"></div>').css("z-index",String(c)).on("click",function(d){d.stopPropagation()}),b.appendTo("body").on(e.event.whichTransitionEvent(b),function(d){g(this).hide().removeClass("hidden__")}).trigger("nothing"));
b=void 0}a.entireLoadIndicator&&(c=void 0===c?e.element.maxZindex(e(a.alwaysOnTopCalcTarget).not(".entire_load_screen_block__, .entire_load_indicator__"))+1:c+1,b=a.context.find("> .entire_load_indicator__"),0<b.length?(b.css("z-index",String(c)).removeClass("hidden__").show(),b.find("> .entire_load_indicator_bar__").css("left","")):(b=g('<div class="entire_load_indicator__"><div class="entire_load_indicator_bar__"></div></div>').on("click",function(d){d.stopPropagation()}).css("z-index",String(c)),
a.context.find(".docs_tab_context__").after(b)),b=void 0);return this},updateLoadIndicator:function(a,c){var b=this.options;b.context.find("> .entire_load_indicator__ > .entire_load_indicator_bar__").css("left","-"+100*(a?a:b.entireLoadRequestCnt)/(c?c:b.entireLoadRequestMaxCnt)+"%");return this},removeLoadIndicator:function(){var a=this.options;if(a.entireLoadIndicator){var c=a.context.find("> .entire_load_indicator__");c.addClass("hidden__").one(e.event.whichTransitionEvent(c),function(b){g(this).hide()}).trigger("nothing");
c.find("> .entire_load_indicator_bar__").css("left","0")}a.entireLoadScreenBlock&&e(".entire_load_screen_block__").trigger("nothing");return this},errorLoadIndicator:function(){var a=this.options;if(a.entireLoadIndicator){var c=a.context.find("> .entire_load_indicator__");c.one(e.event.whichTransitionEvent(c),function(b){g(this).hide()}).trigger("nothing");a.context.find("> .entire_load_indicator__ > .entire_load_indicator_bar__").css("left","")}a.entireLoadScreenBlock&&e(".entire_load_screen_block__").trigger("nothing");
return this},wrapEle:function(){var a=this.options;a.context.addClass("docs__");e.browser.is("ios")&&a.context.addClass("ios__");e.browser.is("android")&&a.context.addClass("android__");if(a.multi){a.context.addClass("multi__");var c=g("<nav></nav>",{"class":"docs_tab_context__"}).appendTo(a.context);g("<ul/>",{"class":"docs_tabs__"}).appendTo(c);c=g("<ul/>",{"class":"docs_tab_utils__"}).appendTo(c);var b=g("<li/>",{"class":"docs_tab_close_all_item__"}),d=this;g("<a/>",{href:"#",text:e.message.get(a.message,
"closeAll"),title:e.message.get(a.message,"closeAllTitle")}).on("click.docs",function(l){l.preventDefault();if(null!==a.closeAllRedirectURL)a.msgContext.alert({msg:e.message.get(a.message,"closeAllDQ"),confirm:!0,onOk:function(){r.location.href=a.closeAllRedirectURL}}).show();else{var h=a.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__.active__"),k=h.siblings();0<k.length&&a.msgContext.alert({msg:e.message.get(a.message,"closeAllQ"),confirm:!0,onOk:function(){var n=h.data("docOpts").docId;
k.remove();a.context.find("> .docs_contents__."+n+"__").siblings(".docs_contents__").remove();m.closeBtnControl.call(d);m.clearScrollPosition.call(d,0)}}).show()}}).appendTo(b);b.appendTo(c);b=g("<li/>",{"class":"docs_tab_list_item__"});var f=g("<a/>",{href:"#",text:e.message.get(a.message,"docList"),title:e.message.get(a.message,"docListTitle")}).on("click.docs",function(l){l.preventDefault();l.stopPropagation();f.find(".docs_tab_list__").remove();var h=g("<ul/>").addClass("docs_tab_list__ hidden__").hide();
a.alwaysOnTop&&h.css("z-index",String(e.element.maxZindex(e(a.alwaysOnTopCalcTarget))+1));h.hasClass("visible__")||(h.empty().append(a.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__:not('.remove__')").clone(!0,!0)).addClass("hidden__").appendTo(f),setTimeout(function(){h.removeClass("hidden__").show().addClass("visible__")},0));g(document).on("click.docs",function(k){g(document).off("click.docs");h.removeClass("visible__").addClass("hidden__");h.one(e.event.whichTransitionEvent(h),
function(n){g(this).remove()}).trigger("nothing")});g(document).on("touchstart.docs",function(k){g(document).off("touchstart.docs");0===g(k.target).closest(".docs_tab_list__").length&&(h.removeClass("visible__").addClass("hidden__"),h.one(e.event.whichTransitionEvent(h),function(n){g(this).remove()}).trigger("nothing"))})});f.appendTo(b);b.appendTo(c)}},wrapScroll:function(){var a=this.options,c=a.context.find(">nav"),b=c.find(">ul.docs_tabs__"),d=c.find(">ul.docs_tab_utils__").outerWidth()+a.tabScrollCorrection.rightCorrectionPx,
f=0;g(r).on("resize.docs.scroll",function(){var k=0;b.find(">li").each(function(){k+=g(this).outerWidth()+parseInt(e.string.trimToZero(g(this).css("margin-left")))+parseInt(e.string.trimToZero(g(this).css("margin-right")))});0<k&&k>c.width()-d?b.addClass("docs_scroll__").width(k):b.css("width","")}).trigger("resize.docs.scroll");g(r).trigger("resize.docs.scroll");var l,h=!1;e.ui.draggable.events.call(b,".docs.scroll",function(k,n,p,q){n.removeClass("effect__");if(n.outerWidth()<=c.innerWidth()-d)return!1;
l=p-parseInt(n.css("margin-left"))},function(k,n,p,q){k=-1*(l-p);if(77<k||c.outerWidth()-d>=n.width()+77+k)return!1;f=k;n.css("margin-left",k+"px");h=!0},function(k,n){h&&(0<=f&&77>=f?f=0:77>=n.width()-(c.outerWidth()-d+-1*f)&&(f=-1*(n.width()-c.outerWidth()-1)-d),n.addClass("effect__").css("margin-left",f+"px"),h=!1)})},clearScrollPosition:function(a,c){var b=this.options,d=b.context.find(">nav"),f=d.find(">ul.docs_tabs__");if("number"===e.type(a))var l=a;else{b=d.find(">ul.docs_tab_utils__").outerWidth()+
b.tabScrollCorrection.rightCorrectionPx;var h=parseInt(e.string.trimToZero(f.css("margin-left")));a.position().left+a.outerWidth()+h>d.innerWidth()-b||0<h&&f.outerWidth()>d.innerWidth()-b?l=-1*(a.position().left+1+a.outerWidth()-d.outerWidth()+b):a.position().left<-1*h?l=-1*a.position().left:f.outerWidth()<d.innerWidth()-b?l=0:d.innerWidth()>f.outerWidth()- -1*h-b&&0>h&&!c&&(a=f.find(".docs_tab__:last"),l=-1*(a.position().left+1+a.outerWidth()-d.outerWidth()+b))}void 0!==l&&f.addClass("effect__").css("margin-left",
String(l)+"px")},loadContent:function(a,c){var b=this.options;b.loadedDocId=a.docId;if(!b.multi){var d=b.context.find("section.docs_contents__");0<d.length&&d.one(e.event.whichTransitionEvent(d),function(h){g(this).remove()}).trigger("nothing")}var f=g("<section></section>",{"class":"docs_contents__ "+a.docId+"__ hidden__"}).appendTo(b.context),l=this;null!==b.onBeforeLoad&&b.onBeforeLoad.call(this,a.docId,f);null!==a.onBeforeLoad&&a.onBeforeLoad.call(this,a.docId,f);d=e.comm({url:a.url,urlSync:a.urlSync,
contentType:"text/html; charset=UTF-8",dataType:"html",type:"GET",target:f});g.extend(d.request.attrObj,this.request.attrObj);this.request.attrObj={};d.submit(function(h){e.context.attr("architecture").page.context=e.context.attr("ui").alert.container=f;h=f.html(h).children(".view_context__:last").instance("cont");void 0!==h&&(h.caller=l,e.cont.trInit.call(this,h,this.request),h.docOpts=a);void 0!==c&&c.call(l,f);null!==b.onLoad&&b.onLoad.call(l,a.docId);null!==a.onLoad&&a.onLoad.call(l,a.docId)})},
closeBtnControl:function(){var a=this.options.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__:not('.remove__')");1===a.length?a.find("> .docs_tab_close_btn__").hide():a.find("> .docs_tab_close_btn__:not(':visible')").show()},inactivateTab:function(){var a=this.options,c=a.context.find(".docs_tab_context__ > .docs_tabs__ > .docs_tab__.active__"),b=c.data("docOpts");b&&0<c.length&&(null!==a.onBeforeInactive&&a.onBeforeInactive.call(this,b.docId),null!==b.onBeforeInactive&&b.onBeforeInactive.call(this,
b.docId),c.removeClass("active__").addClass("inactive__"),null!==a.onInactive&&a.onInactive.call(this,b.docId),null!==b.onInactive&&b.onInactive.call(this,b.docId))},activateTab:function(a,c,b){var d=this.options,f=d.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__."+a+"__");c&&!d.tabScroll&&f.prependTo(f.parent());d.tabScroll&&m.clearScrollPosition.call(this,f,!0);null!==d.onBeforeActive&&d.onBeforeActive.call(this,a,void 0===c?!1:c,void 0===b?!1:b);null!==d.docs[a].onBeforeActive&&
d.docs[a].onBeforeActive.call(this,a,void 0===c?!1:c,void 0===b?!1:b);setTimeout(function(){f.removeClass("inactive__").addClass("active__")},0)},showTabContents:function(a){var c=this.options.context.find("> .docs_contents__."+a+"__");if(c.hasClass("visible__"))return!1;e.context.attr("architecture").page.context=e.context.attr("ui").alert.container=c;c.show(0,function(){c.addClass("visible__").one(e.event.whichTransitionEvent(c),function(b){c.siblings(".docs_contents__.hidden__").hide()}).removeClass("hidden__")})},
hideTabContents:function(a){var c=this.options;a=c.context.find("> .docs_contents__."+a+"__");0<a.siblings(".docs_contents__.visible__").length&&(c.context.css("position","relative"),a.siblings(".docs_contents__.visible__").removeClass("visible__").one(e.event.whichTransitionEvent(a),function(b){c.context.css("position","");g(this).hasClass("hidden__")&&g(this).hide()}).addClass("hidden__").trigger("nothing"))},remove:function(a){var c=this.options,b=a.data("docOpts"),d=a.prev(),f=a.next(),l=a.hasClass("active__");
if(l){a.addClass("remove__");var h=!1;a.one(e.event.whichTransitionEvent(a),function(n){h||(g(this).remove(),h=!0)}).trigger("nothing");setTimeout(function(){h||(a.remove(),h=!0)},e.event.getMaxDuration(a,"transition-duration"))}else a.remove();var k=c.context.find("> .docs_contents__."+b.docId+"__");k.hasClass("visible__")?(k.addClass("remove__"),k.one(e.event.whichTransitionEvent(k),function(n){g(this).find("*").off();g(this).remove();k=void 0}).trigger("nothing")):(k.find("*").off(),k.remove(),
k=void 0);m.closeBtnControl.call(this);delete c.docs[b.docId];c.order=g(c.order).filter(function(n,p){return p!==b.docId}).get();null!==c.onRemove&&c.onRemove.call(this,b.docId);null!==b.onRemove&&b.onRemove.call(this,b.docId);l?0<d.length?d.find(".docs_tab_active_btn__").trigger("click"):0<f.length&&f.find(".docs_tab_active_btn__").trigger("click"):c.tabScroll&&(c=c.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__.active__"),0<c.length&&m.clearScrollPosition.call(this,c))}});g.extend(m.prototype,
{context:function(a){return void 0!==a?this.options.context.find(a):this.options.context},add:function(a,c,b){var d=this.options,f=this,l=d.context.find("> .docs_contents__."+a+"__");0<l.length&&l.hasClass("remove__")&&(d.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__."+a+"__").remove(),l.find("*").off(),l.remove(),l=void 0);if(0===d.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__."+a+"__").length){if(0!==d.maxTabs&&d.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__").not(".remove__").length>=
d.maxTabs)return e.notify({html:!0}).add(e.message.get(d.message,"maxTabs",[String(d.maxTabs)])),this;var h=g.Deferred().done(function(k,n,p){d.docs[k]={docId:k,docNm:n,url:null,urlSync:!0,onBeforeLoad:null,onLoad:null,onBeforeActive:null,onActive:null,onBeforeInactive:null,onInactive:null,onBeforeRemoveState:null,onRemoveState:null,onBeforeRemove:null,onRemove:null,stateless:!1};g.extend(d.docs[k],p);n=d.context.find("> .docs_tab_context__");d.multi&&(p=g("<li/>",{"class":"docs_tab__ "+d.docs[k].docId+
"__ inactive__"}).data("docOpts",d.docs[k]),g("<a/>",{href:"#","class":"docs_tab_active_btn__",title:e.message.get(d.message,"selDocument",[d.docs[k].docNm])}).append(g("<span></span>",{text:d.docs[k].docNm})).on("click.docs",function(q){q.preventDefault();f.active(k,0<g(this).closest(".docs_tab_list__").length)}).appendTo(p),g("<a/>",{href:"#","class":"docs_tab_close_btn__",title:e.message.get(d.message,"close")}).append("<span></span>").on("click.docs",function(q){q.preventDefault();0===g(this).closest(".docs_tab_list__").length&&
q.stopPropagation();f.remove(k)}).appendTo(p),d.addLast?p.appendTo(n.find("> .docs_tabs__")):p.prependTo(n.find("> .docs_tabs__")),m.inactivateTab.call(f),m.closeBtnControl.call(f));m.loadContent.call(f,d.docs[k],function(){this.active(k,!1,!0)})});f.removeState(function(){h.resolve(a,c,b)})}else this.active(a);return this},active:function(a,c,b){var d=this.options,f=this;if(void 0===d.docs[a])return e.warn('[N.docs]"'+a+'" is invalid document id(docId)'),this;d.multi?(d.docs[a].stateless?f.removeState(function(){m.loadContent.call(this,
d.docs[a],function(){d.docs[a].stateless=!1;d.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__."+a+"__").removeClass("stateless__");f.active(a,!1,!0)})}):(m.inactivateTab.call(this),m.hideTabContents.call(this,a),m.activateTab.call(f,a,c,b),m.showTabContents.call(this,a)),d.order=g(d.order).filter(function(l,h){return h!==a}).get(),d.order.unshift(a),d.order.length>d.maxStateful&&d.order.pop(),d.docs[a].stateless||null===d.onActive||d.onActive.call(this,a,void 0===c?!1:c,void 0===
b?!1:b),d.docs[a].stateless||null===d.docs[a].onActive||d.docs[a].onActive.call(this,a,void 0===c?!1:c,void 0===b?!1:b)):(m.hideTabContents.call(this,a),m.showTabContents.call(this,a));return this},removeState:function(a,c){var b=this.options;"function"===typeof a&&(c=a,a=void 0);void 0===a&&(a=b.order[b.order.length-1]);if(0!==b.maxStateful&&b.order.length>=b.maxStateful){var d=b.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__."+a+"__"),f=d.data("docOpts");null!==b.onBeforeRemoveState&&
b.onBeforeRemoveState.call(this,a);null!==f.onBeforeRemoveState&&f.onBeforeRemoveState.call(this,a);var l=this;e.context.attr("ui").alert.container=b.context.find("> .docs_contents__:visible");b.msgContext.alert({html:!0,confirm:!0,msg:e.message.get(b.message,"maxStateful",[f.docNm,String(b.maxStateful)]),onOk:function(){d.addClass("stateless__");f.stateless=!0;b.context.find("> .docs_contents__."+a+"__").remove();null!==b.onRemoveState&&b.onRemoveState.call(this,a);null!==f.onRemoveState&&f.onRemoveState.call(this,
a);c.call(l,a)}}).show()}else c.call(this,a);return this},remove:function(a,c){var b=this.options;if(void 0===b.docs[a])return e.warn('[N.docs]"'+a+'" is invalid document id(docId)'),this;var d=this,f=b.context.find("> .docs_tab_context__ > .docs_tabs__ > .docs_tab__."+a+"__"),l=f.data("docOpts");null!==b.onBeforeRemove&&b.onBeforeRemove.call(this,a);null!==l.onBeforeRemove&&l.onBeforeRemove.call(this,a);var h=b.context.find("> .docs_contents__."+a+"__ .data_changed__");0===h.length||!0===c?m.remove.call(d,
f):b.msgContext.alert({msg:e.message.get(b.message,"closeConf",[b.docs[a].docNm]),confirm:!0,onOk:function(){m.remove.call(d,f)},onCancel:function(){h.get(0).focus()}}).show();return this},doc:function(a){return void 0!==a?this.options.docs[a]:this.options.docs},cont:function(a){return this.context(".docs_contents__."+a+"__ > .view_context__").instance("cont")},reload:function(a,c){var b=this.cont(a);if(!b)return e.warn('[N.docs]"'+a+'" is invalid document id(docId)'),this;a=b.request.options.target.comm(b.request.options.url);
a.request=b.request;g.extend(a.request.attrObj,this.request.attrObj);this.request.attrObj={};a.submit(c);return this}})})(N)})(window,jQuery);
