# 개요

Validator(N.validator)는 입력한 데이터셋(JSON object array)에 대한 유효성을 검사하고 검사 결과 데이터셋을 반환해 주는 라이브러리입니다.

* 룰셋 대신 data-validate 속성으로 검증 룰들이 선언된 입력 요소들을 감싸고 있는 요소를 인수로 입력하면 입력 요소의 커서가 focusout 될 때 해당 요소에 입력된 값의 유효성을 검사하고 유효성 검사에 실패하면 입력 요소 근처에 툴팁 형태로 오류 메시지가 표시됩니다.
* 데이터셋이 아닌 문자열 단위로도 유효성 검사를 할 수 있습니다.

## Validator의 목적

Natural-JS의 Validator 라이브러리는 다음과 같은 구조화된 방법을 제공합니다:

1. 미리 정의된 규칙에 대해 입력 값을 검증하여 데이터 무결성 보장
2. 애플리케이션 전체에 일관된 유효성 검증 표준 적용
3. 입력 유효성 검증에 실패할 때 사용자에게 즉각적인 피드백 제공
4. 서버 측 및 클라이언트 측 유효성 검증 시나리오 모두 지원

## Validator 작동 방식

Validator는 데이터에 미리 정의된 유효성 검증 규칙을 적용하여 작동합니다. 이러한 유효성 검증 규칙은 두 가지 방법으로 지정할 수 있습니다:

1. **룰셋 객체**: 유효성 검사기 함수에 직접 전달
2. **data-validate 속성**: HTML 입력 요소에 선언

유효성 검증이 적용되면 라이브러리는 지정된 규칙에 따라 입력 데이터를 처리하고 유효성 검증 결과를 반환합니다. 폼 요소의 경우 유효성 검증에 실패하면 시각적 피드백을 제공하여 사용자가 필요한 수정 사항을 이해하는 데 도움을 줍니다.

```
┌─────────────────┐         ┌─────────────────┐         ┌─────────────────┐
│                 │         │                 │         │                 │
│    입력 데이터   │ ──────► │    Validator    │ ──────► │ 유효성 검증      │
│                 │         │                 │         │ 결과            │
└─────────────────┘         └─────────────────┘         └─────────────────┘
                                     │
                                     ▼
                            ┌─────────────────┐
                            │                 │
                            │  검증 규칙      │
                            │                 │
                            └─────────────────┘
```

## 주요 기능

### 데이터셋 유효성 검증

Validator는 전체 데이터셋(객체 배열)을 처리하여 지정된 속성에 유효성 검증 규칙을 적용할 수 있습니다. 이는 폼 제출 또는 가져온 데이터의 유효성을 검증하는 데 특히 유용합니다.

### 요소 기반 유효성 검증

HTML 요소와 함께 사용할 때 Validator는 자동으로 다음을 수행할 수 있습니다:
- data-validate 속성을 기반으로 값 유효성 검증
- 유효성 검증에 실패할 때 툴팁으로 오류 메시지 표시
- 포커스 아웃 이벤트에서 유효성 검증 트리거

### 문자열 유효성 검증

데이터셋과 요소 외에도 Validator는 특정 유효성 검증 규칙에 따라 개별 문자열 값을 검증하는 함수도 제공합니다.

## Natural-JS와의 통합

Validator는 다른 Natural-JS 컴포넌트와 원활하게 작동하도록 설계되었습니다:

- **Communicator** 컴포넌트를 통한 제출 전에 데이터의 유효성을 검증할 수 있습니다
- 완전한 데이터 처리를 위해 **Formatter** 컴포넌트와 함께 작동합니다
- **UI** 컴포넌트에 입력된 데이터에 적용할 수 있습니다

이러한 통합을 통해 Natural-JS 애플리케이션 전체에서 데이터 유효성 검증에 일관된 접근 방식을 제공합니다.

## 유효성 검증 프로세스 흐름

1. 사용자가 폼 필드에 데이터 입력
2. 필드가 포커스를 잃을 때 유효성 검증 규칙 적용
3. 유효성 검증에 통과하면 폼이 정상적으로 진행
4. 유효성 검증에 실패하면 오류 메시지 표시
5. 사용자가 입력을 수정하고 다시 시도 가능

이러한 실시간 유효성 검증 접근 방식은 폼 제출을 기다리지 않고 즉각적인 피드백을 제공하여 사용자 경험을 개선합니다.
