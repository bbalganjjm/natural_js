# 개요

Context(N.context)는 Natural-JS 기반 애플리케이션의 Life-Cycle(페이지가 적재되고 다른 URL로 리다이렉트되기 전까지) 안에서 데이터의 영속성을 보장하는 공간입니다.

Natural-JS의 [환경설정 값](config-overview.md), 프레임워크 공통 메시지 등이 N.context 객체에 저장됩니다.

## Context의 목적

N.context 객체는 애플리케이션 전체에서 접근 가능해야 하는 애플리케이션 전반의 설정과 데이터를 위한 중앙 저장소 역할을 합니다. 다음과 같은 구조화된 방법을 제공합니다:

1. Natural-JS의 다양한 컴포넌트에 대한 구성 설정 저장
2. 전역 상태 정보 유지
3. 애플리케이션의 다양한 부분 간에 데이터 공유
4. 프레임워크 동작 구성

## Context 구조

N.context 객체는 다양한 유형의 설정과 데이터를 구성하기 위해 계층적으로 구성됩니다. 주요 섹션은 다음과 같습니다:

- **core**: 핵심 프레임워크 설정
- **architecture**: 아키텍처 구성 요소(Controller, Communicator 등)에 대한 설정
- **data**: 데이터 관련 구성
- **ui**: 사용자 인터페이스 구성 요소 구성
- **template**: 템플릿 처리 설정
- **code**: 애플리케이션별 코드 및 메타데이터

이러한 각 섹션은 getter와 setter 역할을 모두 수행하는 `attr()` 메서드를 사용하여 접근하고 수정할 수 있습니다.

## Context 지속성

N.context에 저장된 데이터는 애플리케이션 페이지의 전체 수명 주기 동안 유지됩니다. 이는 다음을 의미합니다:

- 페이지가 언로드되거나 리다이렉트될 때까지 사용 가능
- AJAX 요청 및 부분 페이지 업데이트에도 유지됨
- 다양한 구성 요소 및 모듈 간에 상태를 유지하는 데 사용할 수 있음

이러한 지속성은 N.context를 애플리케이션 전체 설정, 사용자 환경 설정 및 애플리케이션 전체에서 공유해야 하는 기타 데이터를 저장하는 데 이상적으로 만듭니다.

## 시각적 표현

다음 다이어그램은 Natural-JS 애플리케이션에서 N.context의 역할을 보여줍니다:

```
┌─────────────────────────────────────────────────────────────────┐
│                     Natural-JS 애플리케이션                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                       N.context                          │   │
│  ├─────────────────┬─────────────────┬─────────────────┐   │   │
│  │                 │                 │                 │   │   │
│  │      core       │  architecture   │      data       │   │   │
│  │                 │                 │                 │   │   │
│  ├─────────────────┼─────────────────┼─────────────────┤   │   │
│  │                 │                 │                 │   │   │
│  │       ui        │    template     │      code       │   │   │
│  │                 │                 │                 │   │   │
│  └─────────────────┴─────────────────┴─────────────────┘   │   │
│                                                             │   │
│  ┌─────────────────┐   ┌─────────────────┐   ┌───────────┐ │   │
│  │                 │   │                 │   │           │ │   │
│  │   Controller    │   │  Communicator   │   │    UI     │ │   │
│  │                 │   │                 │   │           │ │   │
│  └────────┬────────┘   └────────┬────────┘   └─────┬─────┘ │   │
│           │                     │                   │       │   │
│           └─────────────────────┼───────────────────┘       │   │
│                                 │                           │   │
│                       접근 및 수정                           │   │
│                                 │                           │   │
│                                 ▼                           │   │
│                                                             │   │
└─────────────────────────────────────────────────────────────────┘
```
