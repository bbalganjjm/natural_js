<article class="refr020503 apiDoc">
    <h1>
        <span lang="ko_KR">예제</span>
        <span lang="en_US">Examples</span>
    </h1>

    <h2 lang="ko_KR" class="notIndex">1. 필터 선언</h2>
    <h2 lang="en_US" class="notIndex">1. Filter declaration</h2>
    <ul>
        <li lang="ko_KR">N.comm으로 호출되는 모든 요청과 응답이 정의 한 필터를 통과하게 되므로 서버 요청과 응답 사이에 공통으로 적용해야 할 로직 등을 정의하면 됩니다.</li>
        <li lang="en_US">All requests and responses called by N.comm will pass through the defined filter, so you can define the logic that should be commonly applied between the server request and response.</li>
        <li lang="ko_KR">필터 이벤트 핸들러 함수의 request 인자에는 Ajax 요청에 대한 유용한 정보가 포함되어 있습니다.
            request 객체에 대한 자세한 내용은 <a href="#html/naturaljs/refr/refr0204.html">Communicator.request</a> 메뉴를 참고 바랍니다.</li>
        <li lang="en_US">The request argument of the filter event handler function contains useful information about Ajax requests.
            For more information on the request object, please refer to the <a href="#html/naturaljs/refr/refr0204.html">Communicator.request</a> menu.
        <li lang="ko_KR">필터를 여러 개 선언할 수 있으며 필터 오브젝트의 명칭(filters 객체의 필터 프로퍼티 명)은 자유롭게 지정하면 됩니다.</li>
        <li lang="en_US">Multiple filters can be declared, and specify the name of the filter object(filter property name of the filters object) freely.</li>
        <li lang="ko_KR">filter 설정은 natural.config.js 파일의 N.context.attr("architecture").comm.filters 속성에 설정합니다.</li>
        <li lang="en_US">The filter setting is set in the N.context.attr("architecture").comm.filters property of the natural.config.js file.</li>
    </ul>

    <pre lang="ko_KR"><code>N.context.attr("architecture", {
    "comm" : {
        "filters" : {
            "exFilter1" : {
                /**
                 * 필터 실행 순서
                 */
                order : 1,
                /**
                 * N.comm이 초기화되기 전에 실행됩니다. string으로 변환되지 않은 원래 유형의 파라미터를 가져올 수 있습니다.
                 */
                beforeInit : function(obj) {
                },
                /**
                 * N.comm이 초기화된 후에 실행됩니다.(N.cont의 "init"이 아닙니다.)
                 */
                afterInit : function(request) {
                },
                /**
                 * 서버에 요청을 보내기 전에 실행됩니다.
                 */
                beforeSend : function(request, xhr, settings) {
                },
                /**
                 * 서버에서 성공 응답이 전달됐을 때 실행됩니다.
                 */
                success : function(request, data, textStatus, xhr) {
                    // data를 수정해서 반환하면 모든 Communicator의 submit 콜백 함수의 data 인자 값으로 반환됩니다.
                },
                /**
                 * 서버에서 에러 응답이 전달됐을 때 실행됩니다.
                 */
                error : function(request, xhr, textStatus, errorThrown) {
                },
                /**
                 * 서버의 응답이 완료되면 실행됩니다.
                 */
                complete : function(request, xhr, textStatus) {
                }
            },
            "exFilter2" : {
                order : 2,
                beforeInit : function(obj) {
                },
                afterInit : function(request) {
                },
                beforeSend : function(request, xhr, settings) {
                },
                success : function(request, data, textStatus, xhr) {
                },
                error : function(request, xhr, textStatus, errorThrown) {
                },
                complete : function(request, xhr, textStatus) {
                }
            }
        }
    }
});</code></pre>
    <pre lang="en_US"><code>N.context.attr("architecture", {
    "comm" : {
        "filters" : {
            "exFilter1" : {
                /**
                 * Filter execution order.
                 */
                order : 1,
                /**
                 *Executes before N.comm is initialized. You can get the parameters of original type that have not been converted to string.
                 */
                beforeInit : function(obj) {
                },
                /**
                 * Executes after N.comm is initialized.(Not an "init" of N.cont.)
                 */
                afterInit : function(request) {
                },
                /**
                 * Executes before sending a request to the server.
                 */
                beforeSend : function(request, xhr, settings) {
                },
                /**
                 * Executes when a success response is sent from the server.
                 */
                success : function(request, data, textStatus, xhr) {
                    // If data is modified and returned, it is returned as the data argument value of all Communicator's submit callback functions.
                },
                /**
                 * Executes when an error response is sent from the server.
                 */
                error : function(request, xhr, textStatus, errorThrown) {
                },
                /**
                 * Executes when the server's response is complete.
                 */
                complete : function(request, xhr, textStatus) {
                }
            },
            "exFilter2" : {
                order : 2,
                beforeInit : function(obj) {
                },
                afterInit : function(request) {
                },
                beforeSend : function(request, xhr, settings) {
                },
                success : function(request, data, textStatus, xhr) {
                },
                error : function(request, xhr, textStatus, errorThrown) {
                },
                complete : function(request, xhr, textStatus) {
                }
            }
        }
    }
});</code></pre>
</article>

<script type="text/javascript">
N(".refr020503").cont({
    init : function(view, request) {

    }
});
</script>