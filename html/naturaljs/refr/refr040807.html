<style type="text/css">
.refr040807 strong {
    color: blue;
}
</style>

<article class="refr040807 apiDoc">
    <h1>
        <span lang="ko_KR">예제</span>
        <span lang="en_US">Examples</span>
    </h1>

    <h2 lang="ko_KR">⊙ 예제 데이터</h2>
    <h2 lang="en_US">⊙Example data</h2>
    <pre><code>var data = [{
    "name": "Dean Stanley",
    "age": 26,
    "gender": "male",
    "email": "deanstanley@zentia.com",
    "registered": "20140727",
}, {
    "name": "Howard Kramer",
    "age": 31,
    "gender": "female",
    "email": "howardkramer@zentia.com",
    "registered": "20111103",
}, {
    "name": "Mark David",
    "age": 28,
    "gender": "male",
    "email": "markdavid@zentia.com",
    "registered": "20120616",
}]</code></pre>

    <h2 lang="ko_KR" class="notIndex">1. 리스트에 데이터 바인딩 하기.</h2>
    <h2 lang="en_US" class="notIndex">1. Binds the data to the list.</h2>
    <pre><code>&lt;ul class="list"&gt;
    &lt;li&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text"&gt;
        &lt;input id="email" type="text"&gt;
        &lt;span id="registered"&gt;&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;

&lt;script type="text/javascript"&gt;
    N(data).list(".list").bind();
&lt;/script&gt;</code></pre>

    <h2 lang="ko_KR" class="notIndex">1.1. rowHandler 적용 하기.</h2>
    <h2 lang="en_US" class="notIndex">1.1. Applying rowHandler.</h2>
    <p lang="ko_KR" class="alert">rowHandler 이벤트는 리스트 렌더링 시 행이 만들어질 때마다 실행되는 이벤트입니다.</p>
    <p lang="en_US" class="alert">The rowHandler event is an event that is executed whenever a row is created when the list is rendered.</p>
    <pre><code>&lt;ul class="list"&gt;
    &lt;li&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text"&gt;
        &lt;input id="email" type="text"&gt;
        &lt;span id="registered"&gt;&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;

&lt;script type="text/javascript"&gt;
    N(data).list({
        context : ".list",
        height : 200,
        <strong>rowHandler : function(index, row, data) {</strong>
            if(data.age &gt;= 28) {
                row.find("#age").css("background-color", "red");
            }
        <strong>}</strong>
    }).bind();
&lt;/script&gt;</code></pre>

    <h2 lang="ko_KR" class="notIndex">2. 행 추가 하기.</h2>
    <h2 lang="en_US" class="notIndex">2. Adding rows.</h2>
    <pre><code>&lt;ul class="list"&gt;
    &lt;li&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text" data-validate='[ ["required"], ["integer"] ]'&gt;
        &lt;input id="email" type="text" data-validate='[ ["email"] ]'&gt;
        &lt;input id="registered" type="text" data-format='[ ["date", 8, "date"] ]'&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;button class="btnAdd"&gt;Add Row&lt;/button&gt;

&lt;script type="text/javascript"&gt;
    var list = N(data).list(".list").bind();

    N(".btnAdd").on("click", function() {
        list.<strong>add</strong>(); // list.data() ==> [{ "age": "", "email": "", "registered" : "" }]
    });
&lt;/script&gt;</code></pre>

    <h2 lang="ko_KR" class="notIndex">3. 리스트에 데이터 바인딩 및 데이터 포맷팅 -&gt; 저장 확인 메시지 표시(N.alert) 후 리스트의 전체 데이터 유효성 검증(N.validator) -&gt; 리스트 데이터를 서버에 전송(N.comm)</h2>
    <h2 lang="en_US" class="notIndex">3. Binds data to the list and format the data -&gt; Validates(N.validator) entire data in the list after displaying(N.alert) the save confirm message  -&gt; Submits(N.comm) the list data to the server.</h2>
    <pre lang="ko_KR"><code>&lt;ul class="list"&gt;
    &lt;li&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text" data-validate='[ ["required"], ["integer"] ]'&gt;
        &lt;input id="email" type="text" data-validate='[ ["email"] ]'&gt;
        &lt;input id="registered" type="text" data-format='[ ["date", 8, "date"] ]'&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;button class="btnSave"&gt;Save&lt;/button&gt;

&lt;script type="text/javascript"&gt;
    var list = N(data).list(".list").bind();

    N(".btnSave").on("click", function() {
        <strong>N(window).alert</strong>({ // 1. confirm 메시지 표시.
            msg : "저장하시겠습니까?",
            <strong>confirm : true</strong>,
            <strong>onOk : function() {</strong>
                if(<strong>list.validate()</strong>) { // 2. 변경된 전체 데이터 유효성 검증.
                    N(<strong>list.data("modified")</strong>).comm("save.json").submit(); // 3. 변경된 데이터를 서버로 전송.
                }
            <strong>}</strong>
        }).show();
    });
&lt;/script&gt;</code></pre>
    <pre lang="en_US"><code>&lt;ul class="list"&gt;
    &lt;li&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text" data-validate='[ ["required"], ["integer"] ]'&gt;
        &lt;input id="email" type="text" data-validate='[ ["email"] ]'&gt;
        &lt;input id="registered" type="text" data-format='[ ["date", 8, "date"] ]'&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;button class="btnSave"&gt;Save&lt;/button&gt;

&lt;script type="text/javascript"&gt;
    var list = N(data).list(".list").bind();

    N(".btnSave").on("click", function() {
        <strong>N(window).alert</strong>({ // 1. Displays a confirm message.
            msg : "Would you like to save?",
            <strong>confirm : true</strong>,
            <strong>onOk : function() {</strong>
                if(<strong>list.validate()</strong>) { // 2. Validates all changed data.
                    N(<strong>list.data("modified")</strong>).comm("save.json").submit(); // 3. Transfers the changed data to the server.
                }
            <strong>}</strong>
        }).show();
    });
&lt;/script&gt;</code></pre>

    <h2 lang="ko_KR" class="notIndex">4. N.select와 N.list 연동하기.</h2>
    <h2 lang="en_US" class="notIndex">4. Linking N.select and N.list.</h2>
    <p lang="ko_KR" class="alert">N.select와 연동하려면 먼저 N.select를 초기화해야 합니다. 그런 다음 N.list를 초기화하고 데이터를 바인딩하십시오.</p>
    <p lang="en_US" class="alert">To link with N.select, you need to initialize Then initialize N.list and bind the data.</p>
    <pre lang="ko_KR"><code>&lt;ul class="list"&gt;
    &lt;li&gt;&lt;!-- 이 요소는 행을 생성하기 위해 데이터의 길이만큼 복사됩니다. --&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text"&gt;
        &lt;input id="gender" type="radio"&gt;
        &lt;input id="email" type="text"&gt;
        &lt;span id="registered"&gt;&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;

&lt;script type="text/javascript"&gt;
    // 1. gender 라디오 셀렉트 생성.
    N([{
         "key" : "male",
         "val" : "male"
     },{
         "key" : "female",
         "val" : "female"
    }]).<strong>select</strong>({
        context : ".list #gender",
        key : "key",
        val : "val"
    })

    // 2. 데이터 바인딩.
    N(data).<strong>list</strong>(".list").<strong>bind</strong>();
&lt;/script&gt;</code></pre>
    <pre lang="en_US"><code>&lt;ul class="list"&gt;
    &lt;li&gt;&lt;!-- This element is copied much the length of the data to create the rows. --&gt;
        &lt;input id="name" type="text"&gt;
        &lt;input id="age" type="text"&gt;
        &lt;input id="gender" type="radio"&gt;
        &lt;input id="email" type="text"&gt;
        &lt;span id="registered"&gt;&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;

&lt;script type="text/javascript"&gt;
    // 1. Create a gender radio selection.
    N([{
         "key" : "male",
         "val" : "male"
     },{
         "key" : "female",
         "val" : "female"
    }]).<strong>select</strong>({
        context : ".list #gender",
        key : "key",
        val : "val"
    })

    // 2. Data binding.
    N(data).<strong>list</strong>(".list").<strong>bind</strong>();
&lt;/script&gt;</code></pre>

    <h2 lang="ko_KR" class="notIndex">5. jQuery의 on 메서드를 사용하여 행 선택 이벤트를 바인딩 하기.</h2>
    <h2 lang="en_US" class="notIndex">5. Binding a row selection event using jQuery's on method.</h2>
    <p lang="ko_KR" class="alert">onSelect 이벤트에서 행 요소에 이벤트를 바인딩하면 행 수만큼 이벤트 객체가 생성되어 속도가 느려질 수 있습니다.
        다음과 같이 이벤트 위임(Event Delegation, jQuery.on method)을 사용하면 성능 저하 없이 행 요소들에 이벤트를 바인딩할 수 있습니다.</p>
    <p lang="en_US" class="alert">If you bind an event to a row element in the onSelect event, it can slow it down because event object is created as much the number of rows.
    If you use the Event Delegation (jQuery.on method), you can bind events to row elements without performance degradation, as follows:</p>
    <pre lang="ko_KR"><code>N("selector").cont(function() {
    init : function(view, request) {
        // 1. N.list 초기화 및 데이터 바인딩.
	    var list = N(data).list(N("selector", view)).bind();

	    // 2. 지정한 요소에 이벤트 바인딩.
	    <strong>list.context().on</strong>("click", <strong>"li #col01"</strong>, function() {

	        // 3. 행 인덱스 가져오기.
	        var rowEle = $(this).closest("li");
	        var idx = <strong>list.context("li").index(rowEle)</strong>;
	        // 4. 행 데이터 가져오기.
	        var rowData = <strong>list.data()[idx]</strong>;

	        N.log(idx, rowEle, rowData);
	    });
    }
});
</code></pre>
    <pre lang="en_US"><code>N("selector").cont(function() {
    init : function(view, request) {
        // 1. Initializes the N.list and binds the data.
        var list = N(data).list(N("selector", view)).bind();

        // 2. Event binding to the specified element.
        <strong>list.context()</strong>.on("click", <strong>"li #col01"</strong>, function() {

            // 3. Get the row index.
            var rowEle = $(this).closest("li");
            var idx = <strong>list.context("li").index(rowEle)</strong>;
            // 4. Get the row data.
            var rowData = <strong>list.data()[idx]</strong>;

            N.log(idx, rowEle, rowData);
        });
    }
});
</code></pre>

</article>

<script type="text/javascript">
N(".refr040807").cont({
    init : function(view, request) {
    }
});
</script>