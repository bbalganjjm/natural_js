<article class="demo_tree">
	<p lang="ko_KR" class="smallContTit">데이터 : </p>
	<p lang="en_US" class="smallContTit">Data : </p>
	<div class="dataBox">
	<pre class="data" class="line-numbers" style="height: 250px;overflow: scroll;border: 1px solid #26A69A;"><code id="data" class="language-javascript">[
	{
    	"key": "Root",
	    "val": "0",
	    "level": 1,
	    "parent": null
	}, {
	    "key": "Key(node name) 1",
	    "val": "1",
	    "level": 2,
	    "parent": "0"
	}, {
	    "key": "Key(node name) 2",
	    "val": "2",
	    "level": 2,
	    "parent": "0"
	}, {
	    "key": "Key(node name) 3",
	    "val": "3",
	    "level": 2,
	    "parent": "0"
	}, {
	    "key": "Key(node name) 4",
	    "val": "4",
	    "level": 2,
	    "parent": "0"
	}, {
	    "key": "Key(node name) 1-1",
	    "val": "11",
	    "level": 3,
	    "parent": "1"
	}, {
	    "key": "Key(node name) 2-1",
	    "val": "21",
	    "level": 3,
	    "parent": "2"
	}, {
	    "key": "Key(node name) 2-2",
	    "val": "22",
	    "level": 3,
	    "parent": "2"
	}, {
	    "key": "Key(node name) 2-3",
	    "val": "23",
	    "level": 4,
	    "parent": "2"
	}, {
	    "key": "Key(node name) 3-1",
	    "val": "31",
	    "level": 4,
	    "parent": "3"
	}, {
	    "key": "Key(node name) 2-2-1",
	    "val": "221",
	    "level": 4,
	    "parent": "22"
	}, {
	    "key": "Key(node name) 2-2-2",
	    "val": "222",
	    "level": 4,
	    "parent": "22"
	}, {
	    "key": "Key(node name) 2-2-1-1",
	    "val": "2211",
	    "level": 5,
	    "parent": "221"
	}, {
	    "key": "Key(node name) 2-2-1-2",
	    "val": "2212",
	    "level": 5,
	    "parent": "221"
	}, {
	    "key": "Key(node name) 2-2-1-3",
	    "val": "2213",
	    "level": 5,
	    "parent": "221"
	}
]</code></pre>
	</div>
	<p lang="ko_KR" class="smallContTit">기본 옵션 : </p>
	<p lang="en_US" class="smallContTit">Default options : </p>
	<table class="form" style="width: 100%;">
		<colgroup>
			<col style="width: 10%">
			<col style="width: 40%">
			<col style="width: 10%">
			<col style="width: 40%">
		</colgroup>
		<tr>
			<th align="right"><label for="context">context</label></th>
			<td colspan="3">
				<input id="context" type="text" value="#tree" readonly="readonly" />
				<label for="context" lang="ko_KR">jQuery selector 입력</label>
				<label for="context" lang="en_US">Input jQuery selector</label>
			</td>
		</tr>
		<tr>
			<th align="right"><label for="context">key</label></th>
			<td>
				<input id="key" type="text" value="key" />
				<label for="key" lang="ko_KR">키(노드명) 컬럼 명</label>
				<label for="key" lang="en_US">key(node name) column name</label>
			</td>
			<th align="right"><label for="val">val</label></th>
			<td>
				<input id="val" type="text" value="val" />
				<label for="val" lang="ko_KR">값 컬럼 명</label>
				<label for="val" lang="en_US">value column name</label>
			</td>
		</tr>
		<tr>
			<th align="right"><label for="level">level</label></th>
			<td>
				<input id="level" type="text" value="level"/>
				<label for="level" lang="ko_KR">레벨 컬럼 명</label>
				<label for="level" lang="en_US">level column name</label>
			</td>
			<th align="right"><label for="parent">parent</label></th>
			<td>
				<input id="parent" type="text" value="parent" />
				<label for="parent" lang="ko_KR">부모 노드 값 컬럼 명</label>
				<label for="parent" lang="en_US">parent node value column name</label>
			</td>
		</tr>
		<tr>
			<th align="right"><label for="folderSelectable">folderSelectable</label></th>
			<td>
				<input id="folderSelectable" type="checkbox" />
				<label for="folderSelectable" lang="ko_KR">체크(true)하면 노드 폴더노드를 선택할 수 있습니다.</label>
				<label for="folderSelectable" lang="en_US">If this checkbox with check(true), you can select folder node</label>
			</td>
			<th align="right"><label for="checkbox">checkbox</label></th>
			<td>
				<input id="checkbox" type="checkbox" />
				<label for="checkbox" lang="ko_KR">체크(true)하면 노드 명 앞에 체크박스를 표시 합니다.</label>
				<label for="checkbox" lang="en_US">If this checkbox with check(true), display checkbox before node name</label>
			</td>
		</tr>
		<tr>
			<th align="right"><label for="onSelect">onSelect</label></th>
			<td>
				<textarea id="onSelect" style="height: 45px;max-width: none;">function(selNodeIndex, selNodeEle, selNodeData) {
	N.log(selNodeIndex, selNodeEle, selNodeData);
}</textarea><br>
				<label for="onSelect" lang="ko_KR">노드 요소가 선택되었을때 실행되는 이벤트 핸들러</label>
				<label for="onSelect" lang="en_US">Event handler for select the node element</label>
			</td>
			<th align="right"><label for="onCheck">onCheck</label></th>
			<td>
				<textarea id="onCheck" style="height: 150px;max-width: none;">function(selNodeIndex, selNodeEle, selNodeData,
	checkedElesIndexes, checkedEles, checkedElesData,
	checkFlag) {
		N.log(selNodeIndex, selNodeEle,
			selNodeData);
		N.log(checkedElesIndexes,
			checkedEles,
			checkedElesData);
		N.log(checkFlag);
}</textarea><br>
				<label for="onCheck" lang="ko_KR">체크박스가 선택되었을때 실행되는 이벤트 핸들러</label>
				<label for="onCheck" lang="en_US">Event handler for select the checkbox</label>
			</td>
		</tr>
	</table>

	<p lang="ko_KR" class="smallContTit">함수 옵션 : </p>
	<p lang="en_US" class="smallContTit">Method options : </p>
	<table class="form" style="width: 100%;">
		<colgroup>
			<col style="width: 13%">
			<col style="width: 13%">
			<col style="width: auto" >
		</colgroup>
		<tr>
			<th>data</th>
			<th><label for="data">arguments[0]</label></th>
			<td>
				<select id="data">
					<option value="undefined">undefined</option>
					<option value="false">false</option>
					<option value="checked">checked</option>
					<option value=checkedInLastNode>checkedInLastNode</option>
				</select><br>
				<label for="data" lang="ko_KR">
					undefined : array[json object] 타입의 모든 데이터를 반환합니다.<br>
					false : jquery object 타입의 모든 데이터를 반환합니다.<br>
					checked : array[json object] 타입의 체크된 데이터를 반환 합니다.<br>
					checkedInLastNode : array[json object] 타입의 체크된 모든요소의 마지막 노드들의 데이터를 반환 합니다.
				</label>
				<label for="data" lang="en_US">
					undefined : Return all data of pure array[json object] type.<br>
					false : Return all data of jquery object type.<br>
					checked : Return checked data of pure array[json object] type.<br>
					checkedInLastNode : Return last node's data of checked elements of pure array[json object] type.
				</label>
			</td>
		</tr>
		<tr>
			<th>closeAll</th>
			<th><label for="isFirstNodeOpen">arguments[0]</label></th>
			<td>
				<input id="isFirstNodeOpen" type="checkbox" />
				<label for="isFirstNodeOpen" lang="ko_KR">체크(true)하면 모두 닫지 않고 ROOT 노드의 자식 노드들은 남겨 놓습니다.</label>
				<label for="isFirstNodeOpen" lang="en_US">If this checkbox with check(true), does not close all and open the ROOT node's children</label>
			</td>
		</tr>
	</table>

	<div align="center" class="btnBox">
		<a id="btnInit" href="#" data-opts='{ "color": "green", "size": "large" }'>
			<span lang="ko_KR">Tree 생성</span>
			<span lang="en_US">Create Tree</span>
		</a>
		<a id="btnBind" href="#" data-opts='{ "color" : "gray", "size": "large", "disable": true }'>bind</a>
		<a id="btnData" href="#" data-opts='{ "color" : "gray", "size": "large", "disable": true }'>data</a>
		<a id="btnOpenAll" href="#" data-opts='{ "color" : "gray", "size": "large", "disable": true }'>openAll</a>
		<a id="btnCloseAll" href="#" data-opts='{ "color" : "gray", "size": "large", "disable": true }'>closeAll</a>
		<a id="btnReload" href="#" data-opts='{ "color": "white", "size": "large" }'>
			<span lang="ko_KR">DEMO 초기화</span>
			<span lang="en_US">Reset DEMO</span>
		</a>
	</div>

	<p lang="ko_KR" class="smallContTit">결과 : </p>
	<p lang="en_US" class="smallContTit">Result : </p>
	<div class="result" align="center">
		<div id="tree"></div>
	</div>
</article>

<script type="text/javascript">
	N(".demo_tree").cont({
	    init : function(view, request) {
	    	// initialize buttons in div.btnBox
	    	N("div.btnBox a", view).button();

	    	var tree;

	    	// bind events
	    	N("#btnInit", view).click(function(e) {
	            e.preventDefault();

	         	// data
		    	var data = eval(N("code#data", view).text());

	            var opts = {
   	       			context : N("#context", view).val(),
   	       			key : N("#key", view).val(),
   	       			val : N("#val", view).val(),
   	       			level : N("#level", view).val(),
   	       			parent : N("#parent", view).val(),
   	       			checkbox : N("#checkbox", view).is(":checked"),
   	       			folderSelectable : N("#folderSelectable", view).is(":checked"),
   	       			onSelect : N.string.trimToNull(N("#onSelect", view).val()) !== null ?
   	          				eval("(" + N("#onSelect", view).val() + ")") : null,
         				onCheck : N.string.trimToNull(N("#onCheck", view).val()) !== null ?
   	          				eval("(" + N("#onCheck", view).val() + ")") : null
   	       		}

	            tree = N(data).tree(opts);

	            N("#btnInit", view).instance("button").disable();
	            N("#btnBind", view).instance("button").enable();
	            N("#btnOpenAll", view).instance("button").enable();
	            N("#btnCloseAll", view).instance("button").enable();
	            N("#btnData", view).instance("button").enable();
	        });

	    	N("#btnBind", view).click(function(e) {
	    		e.preventDefault();
	    		tree.bind();
	        });

	    	N("#btnOpenAll", view).click(function(e) {
	    		e.preventDefault();
	    		tree.openAll();
	        });

	    	N("#btnCloseAll", view).click(function(e) {
	    		e.preventDefault();
	    		tree.closeAll(N("#isFirstNodeOpen", view).is(":checked"));
	        });

	    	N("#btnData", view).click(function(e) {
	        	e.preventDefault();
	        	N("div.result", view).alert({
	        		msg : '<pre class="pre">' + N.json.format(tree.data(eval(N("#data", view).val()))) + '</pre>',
	        		width : 400,
	        		height : 250
	        	}).show();
	        });

	    	N("#btnReload", view).click(function(e) {
	        	e.preventDefault();
	        	N(view.parent()).comm(request.get("url")).submit();
	        });
	    }
	});
</script>