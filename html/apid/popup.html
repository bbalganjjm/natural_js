<article class="demo_popup">
	<h4 lang="ko_KR">1) 이 페이지의 내부 요소를 팝업으로 생성</h4>
	<h4 lang="en_US">1) Create the pupup for internal element of this page</h4>
	<p lang="ko_KR" class="smallContTit">기본 옵션 : </p>
	<p lang="en_US" class="smallContTit">Default options : </p>
	<table id="localPage" class="form">
		<colgroup>
			<col style="width: 12%">
			<col style="width: 38%">
			<col style="width: 12%">
			<col style="width: 38%">
		</colgroup>
		<tr>
			<th><label for="context">context</label></th>
			<td colspan="3">
				<input id="context" type="text" value="#loginForm" />
				<label for="context" lang="ko_KR">jQuery selector 입력</label>
				<label for="context" lang="en_US">Input jQuery selector</label>
			</td>
		</tr>
		<tr>
			<th><label for="title">title</label></th>
			<td>
				<input id="title" type="text" value="Popup Title" />
				<label for="title" lang="ko_KR">입력하지 않으면 팝업의 타이틀바가 표시 되지 않습니다.</label>
				<label for="title" lang="en_US">If do not input title, do not display title bar</label>
			</td>
			<th><label for="confirm">confirm</label></th>
			<td>
				<input id="confirm" type="checkbox" />
				<label for="confirm" lang="ko_KR">체크(true)하면 "확인", "취소" 버튼이 표시 됩니다.</label>
				<label for="confirm" lang="en_US">If this checkbox with check(true), display "OK" and "Cancel" button</label>
			</td>
		</tr>
		<tr>
			<th><label for="modal">modal</label></th>
			<td>
				<input id="modal" type="checkbox" checked="checked" />
				<label for="modal" lang="ko_KR">체크를 해제(false)하면 모달 오버레이 층이 보이지 않습니다.</label>
				<label for="modal" lang="en_US">If this checkbox with uncheck(false), hide modal overlay layer</label>
			</td>
			<th><label for="button">button</label></th>
			<td>
				<input id="button" type="checkbox" checked="checked" />
				<label for="button" lang="ko_KR">체크를 해제(false)하면 버튼바 영역이 표시 되지 않습니다.</label>
				<label for="button" lang="en_US">If this checkbox with uncheck(false), do not display button bar</label>
			</td>
		</tr>
		<tr>
			<th><label for="top">top</label></th>
			<td>
				<input id="top" type="text" value="undefined" /><br>
				<label for="top" lang="ko_KR">메세지 컨텐츠 영역의 top 위치 값, 값이 undefined 면 auto 로 지정 됩니다.</label>
				<label for="top" lang="en_US">Message contents top position, undefined is auto</label>
			</td>
			<th><label for="left">left</label></th>
			<td>
				<input id="left" type="text" value="undefined" /><br>
				<label for="left" lang="ko_KR">메세지 컨텐츠 영역의 left 위치 값, 값이 undefined 면 auto 로 지정 됩니다.</label>
				<label for="left" lang="en_US">Message contents left position, undefined is auto</label>
			</td>
		</tr>
		<tr>
			<th><label for="width">width</label></th>
			<td>
				<input id="width" type="text" value="0" /><br>
				<label for="width" lang="ko_KR">메세지 컨텐츠 영역의 넓이, 값이 0 이면 auto 로 지정 됩니다.</label>
				<label for="width" lang="en_US">Message contents width, 0 is auto width</label>
			</td>
			<th><label for="height">height</label></th>
			<td>
				<input id="height" type="text" value="0" /><br>
				<label for="height" lang="ko_KR">메세지 컨텐츠 영역의 높이, 값이 0 이면 auto 로 지정 됩니다.</label>
				<label for="height" lang="en_US">Message contents height, 0 is auto height</label>
			</td>
		</tr>
		<tr>
			<th><label for="alwaysOnTop">alwaysOnTop</label></th>
			<td>
				<input id="alwaysOnTop" type="checkbox" checked="checked" />
				<label for="alwaysOnTop" lang="ko_KR">체크(true)하면 메시지 팝업의 z-index 값을 모든 요소의 최 상위 값으로 지정 하여 팝업가 항상 최 상위에 보이게 합니다.</label>
				<label for="alwaysOnTop" lang="en_US">If this checkbox with check(true), Set a max value of all elements to z-index of message dialog</label>
			</td>
			<th><label for="dynPos">dynPos</label></th>
			<td>
				<input id="dynPos" type="checkbox" checked="checked" />
				<label for="dynPos" lang="ko_KR">체크를 해제(false)하면 브라우저 창 크기 조절 시 블록 오버레이의 크기와 메세지 팝업의 위치를 보정하지 않습니다.</label>
				<label for="dynPos" lang="en_US">If this checkbox with uncheck(false), do not correction the position of Message overlay and message dialog</label>
			</td>
		</tr>
		<tr>
			<th><label for="draggable">draggable</label></th>
			<td>
				<input id="draggable" type="checkbox" />
				<label for="draggable" lang="ko_KR">체크(true)하면 메세지 팝업를 드래그 &amp; 드롭 할 수 있습니다.</label>
				<label for="draggable" lang="en_US">If this checkbox with check(true), you can drag &amp; drop the messege dialog</label>
			</td>
			<th><label for="draggableOverflowCorrection">draggableOverflowCorrection</label></th>
			<td>
				<input id="draggableOverflowCorrection" type="checkbox" checked="checked" />
				<label for="draggableOverflowCorrection" lang="ko_KR">체크를 해제(false)하면 메세지 팝업를 화면 밖으로 드래그 &amp; 드롭 할 수 있습니다.</label>
				<label for="draggableOverflowCorrection" lang="en_US">If this checkbox with uncheck(false), you can drag &amp; drop the messege dialog to out of screen</label>
			</td>
		</tr>
		<tr>
			<th><label for="overlayClose">overlayClose</label></th>
			<td colspan="3">
				<input id="overlayClose" type="checkbox" checked="checked" />
				<label for="overlayClose" lang="ko_KR">체크를 해제(false)하면 오버레이 요소를 클릭 할 때 메세지 대화상자를 닫지 않습니다.</label>
				<label for="overlayClose" lang="en_US">If this checkbox with uncheck(false), it does not close the message dialog when clicking the overlay element.</label>
			</td>
		</tr>
		<tr>
			<th><label for="onOk">onOk</label></th>
			<td>
				<textarea id="onOk" style="height: 45px;">
function(msgContext, msgContents) {
	N.log("onOk", msgContext, msgContents);
}</textarea><br>
				<label for="onOk" lang="ko_KR">"확인" 버튼 클릭 시 작동되는 이벤트 핸들러</label>
				<label for="onOk" lang="en_US">Event handler for "OK" button click event</label>
			</td>
			<th><label for="onCancel">onCancel</label></th>
			<td>
				<textarea id="onCancel">
function(msgContext, msgContents) {
	N.log("onCancel", msgContext, msgContents);
}</textarea><br>
				<label for="onCancel" lang="ko_KR">"취소" 버튼 이나 오버레이, 닫기(X) 버튼 클릭 시 작동되는 이벤트 핸들러</label>
				<label for="onCancel" lang="en_US">Event handler for "Cancel" button or message overlay or close(X) button click event</label>
			</td>
		</tr>
	</table>

	<div class="btnBox" align="center">
		<a id="btnInitLocal" href="#" data-opts='{ "color": "green", "size": "large" }'>
			<span lang="ko_KR">팝업 생성</span>
			<span lang="en_US">Create popup</span>
		</a>
		<a id="btnOpenLocal" href="#" data-opts='{ "color" : "gray", "size": "large", "disable": true }'>open</a>
		<a id="btnReload" href="#" data-opts='{ "color": "white", "size": "large" }'>
			<span lang="ko_KR">DEMO 초기화</span>
			<span lang="en_US">Reset DEMO</span>
		</a>
	</div>

	<p lang="ko_KR" class="smallContTit">대상 요소 : </p>
	<p lang="en_US" class="smallContTit">Target Element : </p>
    <div align="center" class="result" style="height: 120px;padding-top: 30px;">
		<table id="loginForm" style="width: 276px;">
			<tr>
				<th style="width: 70px;"><label for="numeric">아이디</label></th>
				<td style="width: 148px;">
					<input id="userId" type="text" style="width: 95%;" maxlength="10" />
				</td>
				<td style="width: 58px;" rowspan="2">
					<a id="btnLogin" data-opts='{ "color" : "gray", "size": "large"'>로그인</a>
				</td>
			</tr>
			<tr>
				<th><label for="generic">패스워드</label></th>
				<td>
					<input id="userPw" type="password" style="width: 95%;" maxlength="16" />
				</td>
			</tr>
		</table>
    </div>
	<br>
	<h4 lang="ko_KR">2) 외부 페이지를 팝업으로 생성</h4>
	<h4 lang="en_US">2) Create the pupup for external page</h4>
	<p lang="ko_KR" class="smallContTit">기본 옵션 : </p>
	<p lang="en_US" class="smallContTit">Default options : </p>
	<table id="otherPage" class="form">
		<tr>
			<th><label for="url">url</label></th>
			<td colspan="3">
				<input id="url" type="text" value="html/apid/select.html" />
				<label for="confirm" lang="ko_KR">블록 페이지 URL</label>
				<label for="confirm" lang="en_US">URL of block page</label>
			</td>
		</tr>
		<tr>
			<th><label for="title">title</label></th>
			<td>
				<input id="title" type="text" value="Popup Title" />
				<label for="title" lang="ko_KR">입력하지 않으면 팝업의 타이틀바가 표시 되지 않습니다.</label>
				<label for="title" lang="en_US">If do not input title, do not display title bar</label>
			</td>
			<th><label for="confirm">confirm</label></th>
			<td>
				<input id="confirm" type="checkbox" />
				<label for="confirm" lang="ko_KR">체크(true)하면 "확인", "취소" 버튼이 표시 됩니다.</label>
				<label for="confirm" lang="en_US">If this checkbox with check(true), display "OK" and "Cancel" button</label>
			</td>
		</tr>
		<tr>
			<th><label for="modal">modal</label></th>
			<td>
				<input id="modal" type="checkbox" checked="checked" />
				<label for="modal" lang="ko_KR">체크를 해제(false)하면 모달 오버레이 층이 보이지 않습니다.</label>
				<label for="modal" lang="en_US">If this checkbox with uncheck(false), hide modal overlay layer</label>
			</td>
			<th><label for="button">button</label></th>
			<td>
				<input id="button" type="checkbox" checked="checked" />
				<label for="button" lang="ko_KR">체크를 해제(false)하면 버튼바 영역이 표시 되지 않습니다.</label>
				<label for="button" lang="en_US">If this checkbox with uncheck(false), do not display button bar</label>
			</td>
		</tr>
		<tr>
			<th><label for="closeMode">closeMode</label></th>
			<td colspan="3">
				<select id="closeMode">
					<option value="hide">hide</option>
					<option value="remove">remove</option>
				</select>
				<label for="closeMode" lang="ko_KR">hide 를 선택하면 팝업 관련 요소들을 제거 하지 않고 remove 를 선택 하면 요소들을 제거 합니다.</label>
				<label for="closeMode" lang="en_US">If select the "hide" value, it does not remove popup related elements and if select the "remove" value, it remove the elements.</label>
			</td>
		</tr>
		<tr>
			<th><label for="top">top</label></th>
			<td>
				<input id="top" type="text" value="undefined" /><br>
				<label for="top" lang="ko_KR">메세지 컨텐츠 영역의 top 위치 값, 값이 undefined 면 auto 로 지정 됩니다.</label>
				<label for="top" lang="en_US">Message contents top position, undefined is auto</label>
			</td>
			<th><label for="left">left</label></th>
			<td>
				<input id="left" type="text" value="undefined" /><br>
				<label for="left" lang="ko_KR">메세지 컨텐츠 영역의 left 위치 값, 값이 undefined 면 auto 로 지정 됩니다.</label>
				<label for="left" lang="en_US">Message contents left position, undefined is auto</label>
			</td>
		</tr>
		<tr>
			<th><label for="width">width</label></th>
			<td>
				<input id="width" type="text" value="500" /><br>
				<label for="width" lang="ko_KR">메세지 컨텐츠 영역의 넓이, 값이 0 이면 auto 로 지정 됩니다.</label>
				<label for="width" lang="en_US">Message contents width, 0 is auto width</label>
			</td>
			<th><label for="height">height</label></th>
			<td>
				<input id="height" type="text" value="400" /><br>
				<label for="height" lang="ko_KR">메세지 컨텐츠 영역의 높이, 값이 0 이면 auto 로 지정 됩니다.</label>
				<label for="height" lang="en_US">Message contents height, 0 is auto height</label>
			</td>
		</tr>
		<tr>
			<th><label for="alwaysOnTop">alwaysOnTop</label></th>
			<td>
				<input id="alwaysOnTop" type="checkbox" checked="checked" />
				<label for="alwaysOnTop" lang="ko_KR">체크(true)하면 메시지 팝업의 z-index 값을 모든 요소의 최 상위 값으로 지정 하여 팝업가 항상 최 상위에 보이게 합니다.</label>
				<label for="alwaysOnTop" lang="en_US">If this checkbox with check(true), Set a max value of all elements to z-index of message dialog</label>
			</td>
			<th><label for="dynPos">dynPos</label></th>
			<td>
				<input id="dynPos" type="checkbox" checked="checked" />
				<label for="dynPos" lang="ko_KR">체크를 해제(false)하면 브라우저 창 크기 조절 시 블록 오버레이의 크기와 메세지 팝업의 위치를 보정하지 않습니다.</label>
				<label for="dynPos" lang="en_US">If this checkbox with uncheck(false), do not correction the position of Message overlay and message dialog</label>
			</td>
		</tr>
		<tr>
			<th><label for="draggable">draggable</label></th>
			<td>
				<input id="draggable" type="checkbox" />
				<label for="draggable" lang="ko_KR">체크(true)하면 메세지 팝업를 드래그 &amp; 드롭 할 수 있습니다.</label>
				<label for="draggable" lang="en_US">If this checkbox with check(true), you can drag &amp; drop the messege dialog</label>
			</td>
			<th><label for="draggableOverflowCorrection">draggableOverflowCorrection</label></th>
			<td>
				<input id="draggableOverflowCorrection" type="checkbox" checked="checked" />
				<label for="draggableOverflowCorrection" lang="ko_KR">체크를 해제(false)하면 메세지 팝업를 화면 밖으로 드래그 &amp; 드롭 할 수 있습니다.</label>
				<label for="draggableOverflowCorrection" lang="en_US">If this checkbox with uncheck(false), you can drag &amp; drop the messege dialog to out of screen</label>
			</td>
		</tr>
		<tr>
			<th><label for="overlayClose">overlayClose</label></th>
			<td>
				<input id="overlayClose" type="checkbox" checked="checked" />
				<label for="overlayClose" lang="ko_KR">체크를 해제(false)하면 오버레이 요소를 클릭 할 때 메세지 대화상자를 닫지 않습니다.</label>
				<label for="overlayClose" lang="en_US">If this checkbox with uncheck(false), it does not close the message dialog when clicking the overlay element.</label>
			</td>
			<th><label for="preload">preload</label></th>
			<td>
				<input id="preload" type="checkbox" />
				<label for="preload" lang="ko_KR">체크(true)하면 팝업이 초기화 될때 팝업의 컨텐츠를 미리 적제 합니다.</label>
				<label for="preload" lang="en_US">If this checkbox with check(true), immediately loads the contents when the popup is initialized</label>
			</td>
		</tr>
		<tr>
			<th><label for="onOk">onOk</label></th>
			<td>
				<textarea id="onOk" style="height: 45px;">
function(msgContext, msgContents) {
	N.log("onOk", msgContext, msgContents);
}</textarea><br>
				<label for="onOk" lang="ko_KR">"확인" 버튼 클릭 시 작동되는 이벤트 핸들러</label>
				<label for="onOk" lang="en_US">Event handler for "OK" button click event</label>
			</td>
			<th><label for="onCancel">onCancel</label></th>
			<td>
				<textarea id="onCancel">
function(msgContext, msgContents) {
	N.log("onCancel", msgContext, msgContents);
}</textarea><br>
				<label for="onCancel" lang="ko_KR">"취소" 버튼 이나 오버레이, 닫기(X) 버튼 클릭 시 작동되는 이벤트 핸들러</label>
				<label for="onCancel" lang="en_US">Event handler for "Cancel" button or message overlay or close(X) button click event</label>
			</td>
		</tr>
		<tr>
			<th><label for="onOpen">onOpen</label></th>
			<td>
				<input id="onOpen" type="text" value="onOpen" /><br>
				<label for="onOpen" lang="ko_KR">팝업을 열때마다 실행될 메서드 명을 지정 합니다. 불러오는 페이지의 Controller 에 해당 메서드가 정의 되어 있어야 합니다.</label>
				<label for="onOpen" lang="en_US">Input the method name that will be ran with each time opening the popup. It must be defined in Controller's method in loaded popup</label>
			</td>
			<th><label for="onOpenData">onOpenData</label></th>
			<td>
				<textarea lang="ko_KR" id="onOpenData">이 값은 onOpen 이벤트 핸들러 함수의 첫번째 인자로 지정 됩니다.</textarea>
				<textarea lang="en_US" id="onOpenData">This value is sent to onOpen event handler function's argument of popup's Controller</textarea>
			</td>
		</tr>
		<tr>
			<th><label for="onClose">onClose</label></th>
			<td>
				<textarea id="onClose">function(onCloseData) {
	N.log(N.json.format(onCloseData));
}</textarea><br>
				<label for="onClose" lang="ko_KR">팝업을 닫을 때마다 실행될 이벤트 핸들러 메서드.</label>
				<label for="onClose" lang="en_US">Input the event handler method that will be ran with each time closing the popup</label>
			</td>
			<th><label for="onCloseData">onCloseData</label></th>
			<td>
				<textarea lang="ko_KR" id="onCloseData">이 값은 onClose 이벤트 핸들러 함수의 첫번째 인자로 지정 됩니다.</textarea>
				<textarea lang="en_US" id="onCloseData">This value is sent to onClose event handler function's argument of parent page</textarea>
			</td>
		</tr>
	</table>
    <div class="btnBox" align="center">
		<a id="btnInitOther" href="#" data-opts='{ "color": "green", "size": "large" }'>
			<span lang="ko_KR">팝업 생성</span>
			<span lang="en_US">Create popup</span>
		</a>
		<a id="btnOpenOther" href="#" data-opts='{ "color" : "gray", "size": "large", "disable": true }'>
			<span lang="ko_KR">열기</span>
			<span lang="en_US">open</span>
		</a>
		<a id="btnReload" href="#" data-opts='{ "color": "white", "size": "large" }'>
			<span lang="ko_KR">DEMO 초기화</span>
			<span lang="en_US">Reset DEMO</span>
		</a>
	</div>
</article>

<script type="text/javascript">
	N(".demo_popup").cont({
		localPopup : null,
		otherPopup : null,
	    init : function(view, request) {
	    	// initialize buttons in div.btnBox
	    	this.initButton(view);

	    	// bind events
	    	this.setEvents(view, this);
	    },
	    initButton : function(view) {
	    	N("div.btnBox a", view).button();
	    	N("#btnLogin", view).button();
	    	N("#btnLogin", view).css("padding-top", "15px");
	    	N("#btnLogin", view).css("padding-bottom", "15px");
	    },
	    setEvents : function(view, cont) {
	    	N("#btnInitLocal", view).click(function(e) {
	            e.preventDefault();

	            var opts = {
					container : view.parent(),
	            	title : N.string.trimToUndefined(N("#localPage #title", view).val()),
	       			confirm : N("#localPage #confirm", view).is(":checked"),
	            	modal : N("#localPage #modal", view).is(":checked"),
	            	button : N("#localPage #button", view).is(":checked"),
	            	top : !N.isEmptyObject(N("#localPage #top", view).val()) && N("#localPage #top", view).val() !== "undefined" ? Number(N("#localPage #top", view).val()) : undefined,
           			left : !N.isEmptyObject(N("#localPage #left", view).val()) && N("#localPage #left", view).val() !== "undefined" ? Number(N("#localPage #left", view).val()) : undefined,
	            	width : Number(N("#localPage #width", view).val()),
	            	height : Number(N("#localPage #height", view).val()),
	            	alwaysOnTop : N("#localPage #alwaysOnTop", view).is(":checked"),
	            	dynPos : N("#localPage #dynPos", view).is(":checked"),
	            	draggable : N("#localPage #draggable", view).is(":checked"),
	            	draggableOverflowCorrection : N("#localPage #draggableOverflowCorrection", view).is(":checked"),
	            	overlayClose : N("#localPage #overlayClose", view).is(":checked"),
	            	onOk : N.string.trimToNull(N("#localPage #onOk", view).val()) !== null ?
	            			eval("(" + N("#localPage #onOk", view).val() + ")") : null,
	            	onCancel : N.string.trimToNull(N("#localPage #onCancel", view).val()) !== null ?
	            			eval("(" + N("#localPage #onCancel", view).val() + ")") : null
	            };

	            cont.localPopup = N(N("#context", view).val()).popup(opts);

	            N("#btnOpenLocal", view).instance("button").enable();
	            N(this).instance("button").disable();
	        });

	        N("#btnOpenLocal", view).click(function(e) {
	            e.preventDefault();
	            cont.localPopup.open();
	        });

	        N("#btnInitOther", view).click(function(e) {
	            e.preventDefault();

	            var opts = {
	            	url : N("#otherPage #url", view).val(),
	            	title : N.string.trimToUndefined(N("#otherPage #title", view).val()),
	       			confirm : N("#otherPage #confirm", view).is(":checked"),
	            	modal : N("#otherPage #modal", view).is(":checked"),
	            	button : N("#otherPage #button", view).is(":checked"),
	            	closeMode : N("#otherPage #closeMode", view).val(),
	            	top : !N.isEmptyObject(N("#otherPage #top", view).val()) && N("#otherPage #top", view).val() !== "undefined" ? Number(N("#otherPage #top", view).val()) : undefined,
          			left : !N.isEmptyObject(N("#otherPage #left", view).val()) && N("#otherPage #left", view).val() !== "undefined" ? Number(N("#otherPage #left", view).val()) : undefined,
	            	width : Number(N("#otherPage #width", view).val()),
	            	height : Number(N("#otherPage #height", view).val()),
	            	alwaysOnTop : N("#otherPage #alwaysOnTop", view).is(":checked"),
	            	dynPos : N("#otherPage #dynPos", view).is(":checked"),
	            	draggable : N("#otherPage #draggable", view).is(":checked"),
	            	draggableOverflowCorrection : N("#otherPage #draggableOverflowCorrection", view).is(":checked"),
	            	overlayClose : N("#otherPage #overlayClose", view).is(":checked"),
	            	onOk : N.string.trimToNull(N("#otherPage #onOk", view).val()) !== null ?
	            			eval("(" + N("#otherPage #onOk", view).val() + ")") : null,
	            	onCancel : N.string.trimToNull(N("#otherPage #onCancel", view).val()) !== null ?
	            			eval("(" + N("#otherPage #onCancel", view).val() + ")") : null,
	       			preload : N("#otherPage #preload", view).is(":checked"),
	       			onOpen : N.string.trimToNull(N("#otherPage #onOpen", view).val()),
	       			onOpenData : N.string.trimToNull(N("#otherPage #onOpenData", view).val()),
	            	onClose : N.string.trimToNull(N("#onClose", view).val()) !== null ?
	            			eval("(" + N("#otherPage #onClose", view).val() + ")") : null,
	            	onCloseData : N.string.trimToNull(N("#otherPage #onCloseData", view).val()),
	            	opener : cont
	            };

	            cont.otherPopup = N().popup(opts);

	            N("#btnOpenOther", view).instance("button").enable();

	            if(N("#otherPage #closeMode", view).val() !== "remove") {
		            N(this).instance("button").disable();
	            }
	        });

	        N("#btnOpenOther", view).click(function(e) {
	            e.preventDefault();
	            cont.otherPopup.open();

	            if(N("#otherPage #closeMode", view).val() === "remove") {
		            N(this).instance("button").disable();
	            }
	        });

	        N("a[id='btnReload']", view).click(function(e) {
	        	e.preventDefault();
	        	N(view.parent()).comm(cont.request.get("url")).submit();
	        });
	    }
	});
</script>